if(!JSON){var JSON;if(!JSON){JSON={}}(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}())}if(!String.prototype.trim){(function(){var a=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;String.prototype.trim=function(){return this.replace(a,"")}})()}if(window.Element&&!Element.prototype.closest){Element.prototype.closest=function(c){var d=(this.document||this.ownerDocument).querySelectorAll(c),a,b=this;do{a=d.length;while(--a>=0&&d.item(a)!==b){}}while((a<0)&&(b=b.parentElement));return b}}(function(bT,z,bl){var a9=false,M="190",v=6,cm=42,t=bT.roistatHost,au="0.2",X="1.0",ct="roistat_visit_cookie_expire",bL="roistat_visit",aG="roistat_first_visit",ac="roistat_is_need_listen_requests",cT="roistat_phone",at="roistat_referrer",cw="roistat_marker",aW="roistat_marker_old",bg="roistat_ab",cb="rs",A="roistat",S="leadhunter_expire",G=5*60*60,bm="roistat_leadHunterEnabled",n="roistat_leadHunterTargetPagesMap",b5="roistat_leadHunterCallbackSettings",aE="roistat_leadHunterScriptId",N="roistat_isleadHunterScriptIdActive",aT="roistat_multiwidgetEnabled",bD="roistat_multiwidgetVKEnabled",cj="roistat_multiwidgetVKLink",H="roistat_multiwidgetFBEnabled",cD="roistat_multiwidgetFBLink",b7="roistat_multiwidgetTelegramEnabled",a7="roistat_multiwidgetTelegramLink",ch="roistat_onlineChatEnabled",d=7*24*60*60,co={expires:d,path:"/"},Y="roistat-promo",ae="roistat-phone",y="roistat-phone-country",Z="roistat-phone-region",B="roistat-phone-number",cL="roistat-phone-tel",bs="country",az="region",a0="number",bG="tel",l="roistat_call_tracking",O="roistat-js-script",be="roistat_phone_replacement",a1="roistat_phone_script_data",cl="roistat-visit-id",aH="roistat_metrika_counter_id",h="roistat_marker_from_referrer",bd="roistat_emailtracking_email",b="roistat_emailtracking_tracking_email",bp="roistat_emailtracking_emails",cN="roistat_proxy_forms",cq="roistat_isMultiDomain",ce=["roistat_param1","roistat_param2","roistat_param3","roistat_param4","roistat_param5"],bM="roistat_debug",aK="roistat_settings_saved",bY="nocookie",aI=["yandex.ru"],aq="beta_test",b9="roistat_settings_version",bB="roistat-leadhunter-form-template",bc="roistat-leadhunter-pulsator-template",bA="roistat-leadhunter-pulsator-settings",a8="roistat-online-chat-pulsator-template",w="roistat-online-chat-iframe-template",cx="roistat-multiwidget-pulsator-template",e="roistat-multiwidget-pulsator-settings",Q="roistat_last_settings_update_time";
var by="ru",cQ="en",V,p;var cC=t.replace(/^cloud\./,"");var cy="collector."+cC;var bC={callTrackingEnabled:true,callTrackingManual:false,jsonpRequestTimeout:100};var bN={isVisitProcessed:false,visitFromUser:null,cookies:{},pageParams:{},source:{marker:null},isSettingsUpdating:false};var cn={onVisitProcessed:[],onCallTrackingPhoneReceived:[],onSPAPageChanged:[]};if(bT.roistatAlreadyStarted){if(typeof console!=="undefined"&&console.log){console.log("Call: roistat already started, skip")}return}bT.roistatAlreadyStarted=true;if(bT.roistatCookieDomain){co.domain=bT.roistatCookieDomain}bT.roistat={version:M,getSource:function(){return bN.source.marker},visit:null,getVisit:function(){return roistat.visit},setVisit:function(cY){bN.visitFromUser=cY},registerOnVisitProcessedCallback:function(cY){b6(cY)},registerOnCalltrackingPhoneReceivedCallback:function(cY){ba(cY)},disableCallTracking:function(){bC.callTrackingEnabled=false},setCallTrackingManualMode:function(){bC.callTrackingManual=true},setJSONPRequestTimeout:function(cY){bC.jsonpRequestTimeout=cY},callTracking:{enabled:0,phone:"",sessionTime:0,replacementClasses:"",phonePrefix:""},emailtracking:{enabled:true,loaded:false,email:null,trackingEmail:null,emails:null,refresh:function(){s("Warning: used emailtracking refresh before module init")}},leadHunter:{isEnabled:true,onBeforeAppear:null,onAfterAppear:null,onBeforeSubmit:null,onAfterSubmit:null,additionalNotifyEmail:null,localization:{translateToRussian:null,translateToEnglish:null},form:{title:null,subTitle:null,thankYouText:null,buttonText:null,nameLabel:null,contactLabel:null,isNameRequired:false,autoShowTime:null,isNeedExplicitAgreement:null}},onlineChat:{isEnabled:true,customTriggerSelector:null,customPosition:{top:null,right:null,bottom:null,left:null},localization:{translateToRussian:null,translateToEnglish:null},notificationsCustomHolderSelector:null},multiwidget:{isEnabled:true,vk:{isEnabled:false,link:null},fb:{isEnabled:false,link:null},telegram:{isEnabled:false,link:null}},page:{params:{}},proxyForms:{enabled:true,loaded:false,settings:[]},authClientById:function(cY){ao(cY,bl)},authClientByEmail:function(cY){ao(bl,cY)}};var ao=function(cY,c1){if(!bN.isVisitProcessed){s("Visit is not processed, return");return}var c2=cY!==bl&&cY.length>0,c5=c1!==bl&&c1.length>0;if(!c2&&!c5){s("Invalid client params, return");return}var c3=m();if(c3<=0){s("Invalid arguments, return");return}var c4="roistat_authorized_client",c6=bQ.get(c4),c0=c2?cY:c1;if(c6===c0){s('Client "'+c0+'" is already authorized, return');return}s("Auth client: "+c0);bQ.set(c4,c0);var cZ=F()+"/update-visit-by-client?visit="+c3+"&v="+M;if(c2){cZ+="&client_id="+encodeURIComponent(cY)}if(c5){cZ+="&client_email="+encodeURIComponent(c1)}aF(cZ)};var cG=function(c1,cZ){var c0=c1.length;for(var cY=0;cY<c0;cY++){if(cZ===c1[cY]){return true}}return false};var T=function(){return i(aq)>0};var aN=function(){return bT.roistatProjectId};var ca=function(){return aN().replace(/\D/g,"")};var a3=function(cY){var cZ=ca();return cG(cY,cZ)};var cg=function(cY){return JSON.parse(JSON.stringify(cY))};var bh=function(){var cZ=cg(co),cY=parseInt(bQ.get(ct));cZ.expires=cY>0?cY:d;return cZ};var b6=function(cY){if(!bN.isVisitProcessed){cn.onVisitProcessed.push(cY)}else{cY()}};var ci=function(){bN.isVisitProcessed=true;s("[Roistat] visit id set. Processing callbacks");var cZ=cn.onVisitProcessed.length;for(var cY=0;cY<cZ;cY++){cn.onVisitProcessed[cY]()}if(bT.roistatVisitCallback!==bl){bT.roistatVisitCallback(bT.roistat.getVisit())}};var ba=function(cY){cn.onCallTrackingPhoneReceived.push(cY)};var cE=function(){var cZ=cn.onCallTrackingPhoneReceived.length;for(var cY=0;cY<cZ;cY++){cn.onCallTrackingPhoneReceived[cY]()}};var ak=function ak(cY){cn.onSPAPageChanged.push(cY)};var bJ=function bJ(){s("[Roistat] SPA page changed. Processing callbacks");var cZ=cn.onSPAPageChanged.length;for(var cY=0;cY<cZ;cY++){cn.onSPAPageChanged[cY]()}};var aa=function(c2,c1){var c0=c2.className.split(" "),cZ=false,cY;for(cY=0;cY<c0.length;cY++){if(c0[cY]===c1){cZ=true;break}}if(!cZ){c0.push(c1);c2.className=c0.join(" ")}};var bK=function(c1,c0){var cZ=c1.className.split(" "),cY;for(cY=0;cY<cZ.length;cY++){if(cZ[cY]===c0){cZ.splice(cY,1);c1.className=cZ.join(" ");break}}};var ap=function(cZ){try{return decodeURIComponent(cZ)}catch(c0){var cY;cY=u(cZ);if(cY===null){return cZ}return cY}};var bx={visitor_uid:function(){s("AmoCrmUID: starting collecting AmoCRM visitor_uid");if(!cX(bT.AMOPIXEL_IDENTIFIER)||!K(bT.AMOPIXEL_IDENTIFIER.getVisitorUid)){s("AmoCrmUID: AMOPIXEL_IDENTIFIER not an object or 'getVisitorUid()' function not found");return null}var cY=AMOPIXEL_IDENTIFIER.getVisitorUid();if(!aJ(cY)){s("AmoCrmUID: visitor_uid value must be a string");return null}return cY}};var an=function(){for(var cZ in bx){var cY=bx[cZ]();if(cY===null){continue}cM(cZ,cY,co)}};var aX=function(){return["_ym_uid","_ga"].concat(C(bx))};var u=function(c2){var c1={"%E0":"%D0%B0","%E1":"%D0%B1","%E2":"%D0%B2","%E3":"%D0%B3","%E4":"%D0%B4","%E5":"%D0%B5","%B8":"%D1%91","%E6":"%D0%B6","%E7":"%D0%B7","%E8":"%D0%B8","%E9":"%D0%B9","%EA":"%D0%BA","%EB":"%D0%BB","%EC":"%D0%BC","%ED":"%D0%BD","%EE":"%D0%BE","%EF":"%D0%BF","%F0":"%D1%80","%F1":"%D1%81","%F2":"%D1%82","%F3":"%D1%83","%F4":"%D1%84","%F5":"%D1%85","%F6":"%D1%86","%F7":"%D1%87","%F8":"%D1%88","%F9":"%D1%89","%FC":"%D1%8C","%FB":"%D1%8B","%FA":"%D1%8A","%FD":"%D1%8D","%FE":"%D1%8E","%FF":"%D1%8F","%C0":"%D0%90","%C1":"%D0%91","%C2":"%D0%92","%C3":"%D0%93","%C4":"%D0%94","%C5":"%D0%95","%A8":"%D0%81","%C6":"%D0%96","%C7":"%D0%97","%C8":"%D0%98","%C9":"%D0%99","%CA":"%D0%9A","%CB":"%D0%9B","%CC":"%D0%9C","%CD":"%D0%9D","%CE":"%D0%9E","%CF":"%D0%9F","%D0":"%D0%A0","%D1":"%D0%A1","%D2":"%D0%A2","%D3":"%D0%A3","%D4":"%D0%A4","%D5":"%D0%A5","%D6":"%D0%A6","%D7":"%D0%A7","%D8":"%D0%A8","%D9":"%D0%A9","%DC":"%D0%AC","%DB":"%D0%AB","%DA":"%D0%AA","%DD":"%D0%AD","%DE":"%D0%AE","%DF":"%D0%AF"};
var cZ="";var c0=0;while(c0<c2.length){var cY=c2.substring(c0,c0+3);if(Object.prototype.hasOwnProperty.call(c1,cY)){cZ+=c1[cY];c0+=3}else{cZ+=c2.substring(c0,c0+1);c0++}}try{return decodeURIComponent(cZ)}catch(c3){return null}};bT.roistatVersion=M;var bf,L=[],b2=a3(["9978269456320005528414"]),o=a3(["9978269456320005528414","593119171370269"]),j,b0=true,b4=z.location.href,aY="",aD="",a5=new Date().getTime(),cv=false,cd=bT.roistatPhonePrefix?bT.roistatPhonePrefix:"",cU=bT.roistatPhonePrefixBind?bT.roistatPhonePrefixBind:"",I=bT.roistatCalltrackingScripts&&bT.roistatCalltrackingScripts.join?bT.roistatCalltrackingScripts.join(","):"";var i,cM;i=bT.roistatGetCookie=function(cY){var cZ=z.cookie.match(new RegExp("(?:^|; )"+cY.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return cZ?ap(cZ[1]):bl};cM=bT.roistatSetCookie=function(c1,c3,c0){c0=c0||{};var cZ=c0.expires;if(typeof cZ=="number"&&cZ){var c5=new Date();c5.setTime(c5.getTime()+cZ*1000);cZ=c0.expires=c5}if(cZ&&cZ.toUTCString){c0.expires=cZ.toUTCString()}c3=encodeURIComponent(c3);var cY=c1+"="+c3;for(var c2 in c0){cY+="; "+c2;var c4=c0[c2];if(c4!==true){cY+="="+c4}}z.cookie=cY};var bk=function(cZ,c1,c0){var cY=cZ[c1];cZ[c1]=function(){if(cY){cY.apply(this,arguments)}c0.apply(this,arguments)}};var W=function(c0,cZ,c1){if(c0.addEventListener){c0.addEventListener(cZ,c1,false);return}var cY="on"+cZ;if(c0.attachEvent){c0.attachEvent(cY,c1);return}if(cY in c0){bk(c0,cY,c1);return}if(cZ in c0){bk(c0,cZ,c1);return}s("Handler could not be attached")};var q=function(c1,c0){var cZ=c1.length;for(var cY=0;cY<cZ;cY++){c0(c1[cY])}};var C=function(cY){var cZ=[];a4(cY,function(c0,c1){cZ.push(c0)});return cZ};var a4=function(cY,c0){for(var cZ in cY){if(Object.prototype.hasOwnProperty.call(cY,cZ)){c0(cZ,cY[cZ])}}};var bb=function(cY){return Object.prototype.toString.call(cY)==="[object Array]"};var aA=function(cZ){if(typeof cZ!=="object"){return false}for(var cY in cZ){if(cZ.hasOwnProperty(cY)){return true}}return false};var cI=function(cZ){try{var cY=JSON.parse(cZ);if(cY&&typeof cY==="object"){return cY}}catch(c0){}return null};if(z.getElementsByClassName==bl){z.getElementsByClassName=function(cZ){var cY=[];var c3=new RegExp("\\b"+cZ+"\\b");var c2=this.getElementsByTagName("*");for(var c1=0;c1<c2.length;c1++){var c0=c2[c1].className;if(c3.test(c0)){cY.push(c2[c1])}}return cY}}var ar=function(){return String.fromCharCode};var ck=function(c0){var cY="";for(var cZ=0;cZ<c0.length;++cZ){cY+=ar()(cm^c0.charCodeAt(cZ))}return cY};var ay=function(cY){return encodeURIComponent(ck(bW.encode(cY)))};var bW={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(c0){var cY="";var c7,c5,c3,c6,c4,c2,c1;var cZ=0;c0=bW._utf8_encode(c0);while(cZ<c0.length){c7=c0.charCodeAt(cZ++);c5=c0.charCodeAt(cZ++);c3=c0.charCodeAt(cZ++);c6=c7>>2;c4=((c7&3)<<4)|(c5>>4);c2=((c5&15)<<2)|(c3>>6);c1=c3&63;if(isNaN(c5)){c2=c1=64}else{if(isNaN(c3)){c1=64}}cY=cY+this._keyStr.charAt(c6)+this._keyStr.charAt(c4)+this._keyStr.charAt(c2)+this._keyStr.charAt(c1)}return cY},decode:function(c0){var cY="";var c7,c5,c3;var c6,c4,c2,c1;var cZ=0;c0=c0.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(cZ<c0.length){c6=this._keyStr.indexOf(c0.charAt(cZ++));c4=this._keyStr.indexOf(c0.charAt(cZ++));c2=this._keyStr.indexOf(c0.charAt(cZ++));c1=this._keyStr.indexOf(c0.charAt(cZ++));c7=(c6<<2)|(c4>>4);c5=((c4&15)<<4)|(c2>>2);c3=((c2&3)<<6)|c1;cY=cY+String.fromCharCode(c7);if(c2!=64){cY=cY+String.fromCharCode(c5)}if(c1!=64){cY=cY+String.fromCharCode(c3)}}cY=bW._utf8_decode(cY);return cY},_utf8_encode:function(cZ){cZ=cZ.replace(/\r\n/g,"\n");var cY="";for(var c1=0;c1<cZ.length;c1++){var c0=cZ.charCodeAt(c1);if(c0<128){cY+=String.fromCharCode(c0)}else{if((c0>127)&&(c0<2048)){cY+=String.fromCharCode((c0>>6)|192);cY+=String.fromCharCode((c0&63)|128)}else{cY+=String.fromCharCode((c0>>12)|224);cY+=String.fromCharCode(((c0>>6)&63)|128);cY+=String.fromCharCode((c0&63)|128)}}}return cY},_utf8_decode:function(cY){var c0="";var c4=0;var c5=0;var c1=0;var cZ=0;while(c4<cY.length){c5=cY.charCodeAt(c4);if(c5<128){c0+=String.fromCharCode(c5);c4++}else{if((c5>191)&&(c5<224)){c1=cY.charCodeAt(c4+1);c0+=String.fromCharCode(((c5&31)<<6)|(c1&63));c4+=2}else{c1=cY.charCodeAt(c4+1);cZ=cY.charCodeAt(c4+2);c0+=String.fromCharCode(((c5&15)<<12)|((c1&63)<<6)|(cZ&63));c4+=3}}}return c0}};var bi=function(){return z[ar()(99,111,111,107,105,101)]};var ag=function(){cP();var cY={c:cB()};return ay(JSON.stringify(cY))};var b8=function(){var cY=m();return(cY===bl||cY===null)?bY:cY};var cB=function(){var cY=[];for(var cZ in bN.cookies){if(!Object.prototype.hasOwnProperty.call(bN.cookies,cZ)){continue}cY.push(cZ+"="+bN.cookies[cZ])}return cY.join("; ")};var cP=function(){var cY=k();for(var cZ in cY){if(!Object.prototype.hasOwnProperty.call(cY,cZ)){continue}bN.cookies[cZ]=cY[cZ]}};var af=function(cY){cM(cw,cY,bh());bN.source.marker=cY};var ab=function(){return i(cw)};var f=function(){a4(bT.roistat.page.params,function(cZ,cY){bN.pageParams[cZ]=cY
})};var k=function(){var c1=bi();var c2=c1.split("; ");var cY={};for(var c0=0;c0<c2.length;c0++){var c5=c2[c0];if(c5===""){continue}var cZ=c5.split("=");if(cZ.length<2){continue}var c4=cZ[0].trim();var c3=cZ[1].trim();cY[c4]=c3}return cY};var g=function(){return ar()(104,97,115,104)};var ax=function(cY){return cY.split("http://").join("").split("https://").join("").split("#")[0].split("?")[0].split("www.").join("").replace(/\/+$/,"")};var bI={isAvailable:function(){var cY=false;if(!bT.sessionStorage||!bT.sessionStorage.setItem||!bT.sessionStorage.getItem||!bT.sessionStorage.removeItem){return cY}try{bT.sessionStorage.setItem("testKey","testValue");cY=bT.sessionStorage.getItem("testKey")==="testValue";bT.sessionStorage.removeItem("testKey")}catch(cZ){return false}return cY},remove:function(cY){if(this.isAvailable()){bT.sessionStorage.removeItem(cY)}},setObject:function(cY,cZ){if(this.isAvailable()){bT.sessionStorage.setItem(cY,JSON.stringify(cZ))}},getObject:function(cZ){var cY=null;if(this.isAvailable()){cY=bT.sessionStorage.getItem(cZ);cY=JSON.parse(cY)}return cY},set:function(cY,cZ){if(this.isAvailable()){bT.sessionStorage.setItem(cY,cZ)}},get:function(cZ){var cY=null;if(this.isAvailable()){cY=bT.sessionStorage.getItem(cZ)}return cY}};var bQ={isAvailable:function(){var cY=false;if(!bT.localStorage||!bT.localStorage.setItem||!bT.localStorage.getItem||!bT.localStorage.removeItem){return cY}try{bT.localStorage.setItem("testKey","testValue");cY=bT.localStorage.getItem("testKey")==="testValue";bT.localStorage.removeItem("testKey")}catch(cZ){return false}return cY},remove:function(cZ){if(this.isAvailable()){bT.localStorage.removeItem(cZ)}else{var cY=new Date(1970,1,1);cM(cZ,"",{expires:cY.toUTCString()})}},setObject:function(cY,cZ){if(this.isAvailable()){localStorage.setItem(cY,JSON.stringify(cZ))}},getObject:function(cZ){var cY=null;if(this.isAvailable()){cY=localStorage.getItem(cZ);cY=cI(cY)}return cY},set:function(cY,cZ){if(this.isAvailable()){localStorage.setItem(cY,cZ)}else{cM(cY,cZ,co)}},save:function(cZ,c0,cY){if(this.isAvailable()){localStorage.setItem(cZ,c0)}cM(cZ,c0,cY)},get:function(cZ){var cY=null;if(this.isAvailable()){cY=localStorage.getItem(cZ)}if(cY===null){cY=i(cZ)}return cY}};var bF=function(){return !bE(z.referrer)?z.referrer:null};var K=function(cY){return typeof cY==="function"};var cX=function(cY){return typeof cY==="object"};var aJ=function(cY){return typeof cY==="string"};var P=function(c1,c0){c0=typeof c0!=="undefined"?c0:false;var c2=function(c5){var c4=null;var c6=new RegExp("[#&?]("+c1+"=[^#&?]+)");if(c6.test(c5)){c4=RegExp.$1.substring(RegExp.$1.indexOf("=")+1)}var c3=ap(c4);return c4&&c3?c3:c4};var cY=c2(b4);if(c0){var cZ=z.referrer;if(cY===null&&cZ){cY=c2(cZ)}}return cY};var cA=function(cZ,c0){var cY=false;if(cZ&&c0){cY=cZ.split(c0).join("")!==cZ}return cY};if(P(bM)==="1"||k()[bM]==="1"){a9=true}var aS=function(){if("https:"===z.location.protocol){return"https:"}else{return"http:"}};var J=function(cZ){var cY=z.createElement("img");cY.src=cZ;s("sendRequestByUrl: "+cZ)};var aF=function(cZ){s("sendApiRequestJSONP: init with url "+cZ);var cY=z.createElement("script");cY.onload=cY.onreadystatechange=function(){var c1=this.readyState?this.readyState:"unknown";s("sendApiRequestJSONP: script state changed to "+c1)};cY.src=cZ;cY.type="text/javascript";cY.async=true;var c0=z.getElementsByTagName("script")[0];c0.parentNode.insertBefore(cY,c0);s("sendApiRequestJSONP: script appended")};var b3=function(){var cZ=z.createElement("link"),cY=z.getElementsByTagName("head");cZ.setAttribute("rel","stylesheet");cZ.setAttribute("href",aS()+"//"+t+"/dist/module.css?"+M);if(cY.length>0){cY[0].appendChild(cZ)}};var bV=function(){return bZ()||cV()};var bZ=function(){return aZ()!==null};var cV=function(){return bS()!==null};var cu=function(){var cY=cr();if(cY!==null){cM(bL,cY,bh())}};var cr=function(){return aZ()||bS()||null};var aZ=function(){return P("roistat_visit")};var bS=function(){return bN.visitFromUser};var a=function(cZ,cY){if(!cY&&(bN.isSettingsUpdating||!z.hasFocus())){s("Already updating settings or document not in focus, return");return}var c0=F()+"/get-settings?v="+M+"&visit="+cZ;s("Request new settings");bN.isSettingsUpdating=true;aF(c0)};var aB=function(){return bQ.get(aK)>0};var cJ=function(){bQ.set(aK,1)};var am=function(){bQ.remove(bB);bQ.remove(bc);bQ.remove(bA);bQ.remove(a8);bQ.remove(w);bQ.remove(ch);bQ.remove(cx);bQ.remove(e)};var bO=function(){var c2=function(){return bQ.get(b9)};var c1=function(){bQ.set(b9,v)};var cZ=function(){return typeof c2()==="string"};var cY=function(){const c3=Number(c2())>v;s("Settings Version: settings version change status - "+c3);return c3};var c0=function(){var c3=1000*60*60*24;var c6=cF();var c5=bU()-c6;var c4=c5>c3;s("Settings Version:: expiration day check: lastUpdateTime="+c6+", _lastUpdateTimeDiff="+c5+", _oneDayDiffInMs="+c3+", result="+(c4?1:0));return c4};if(!cZ()){s("Settings Version: set settings version up to 1");c1()}if(c0()||cY()){s("Settings Version: clear settings");
am()}};var cR=function(){s("Call: Init");s("Counter version: "+M);if(P("roistat_ab_demo")==="1"){s("Roistat initialisation rejected: ab test preview mode");return}b3();a2();cf();if((!ad()||cW())&&!bT.roistatOnlineChatOnly){cv=true;bn()}else{bO();cu();var cY=m();bt();aQ();cs();roistat.visit=cY;bN.source.marker=ab();var cZ=aB();if(!cZ){a(cY)}else{ci()}}if(!o){cH()}};var D=function(c0){if(!c0.isEnabled){return true}var cY=new Date();var c7=new Date().toISOString();var c4=cY.getUTCDay()===0?7:cY.getDay();var c5=c4===6||c4===7;var c3=new Date(c0.weekdaysTime.from).toISOString();var cZ=new Date(c0.weekdaysTime.to).toISOString();var c8=new Date(c0.weekendsTime.from).toISOString();var c1=new Date(c0.weekendsTime.to).toISOString();var c6=false;for(var c2=0;c2<c0.days.length;c2++){if(c4===c0.days[c2]){c6=true}}if(!c6){return false}if(c5){return c7>=c8&&c7<=c1}return c7>=c3&&c7<=cZ};var a2=function(){s("Call: initMarker");bf=bX();s("Call: inited marker: "+bf)};var cf=function(){s("Call: initReferrer");j=bF();s("Call: end initReferrer: "+j)};var bE=function(c0){if(!c0){return true}var cY=aR(c0);var cZ=aR(z.domain);if(cY===cZ){return true}var c1=bz();if(c1===null){return false}if(cA(cY,c1)&&cA(cZ,c1)){return true}return false};var bz=function(){if(typeof co.domain==="string"&&co.domain!==""){return aR(co.domain)}return null};var aR=function(cY){var cZ=cY.split("http://").join("").split("https://").join("").split("www.").join("");return cZ.split("/")[0]};var bX=function(){var c3=i(h)>0;var c5=null;var c0=function(c8){return c8.split("_").join(":u:")};var c7=function(c9){var c8=false;q(aI,function(da){if(c9.indexOf(da)>-1){c8=true}});return c8};var c6=function(){var c8=false;var c9;c9=P(A,c3);if(c9!==null){c5=c9;c8=true}c9=P(cb,c3);if(c9!==null){c5=c9;c8=true}return c8};var c1=function(){var c8=false;var c9=ab();if(c9){c5=c9;c8=true;b0=false}return c8};var cZ=function(){var c8=false;var da=P("utm_source",c3);if(da!==null){c8=true;c5=":utm:"+c0(da);var dc=["utm_medium","utm_campaign","utm_content","utm_term"];var c9;for(var db=0;db<dc.length;db++){c9=P(dc[db],c3);if(c9!==null){c5=c5+"_"+c0(c9)}}}return c8};var c2=function(){var da,c9,c8=false;c9=P("_openstat",c3);if(!c9){return false}if(c4(c9)){da=c9}else{da=encodeURI(bW.decode(c9));if(!c4(da)){da=c9}}if(da){da=c0(da).split(";").join("_");c5=":openstat:"+da;c8=true}return c8};var c4=function(c8){return c8.match(/^([^;]*(;[^;]*){3})$/)!==null};var cY=function(){var c8=false;var c9=z.referrer;if(bE(c9)){return c8}var da=P("from",c3);if(da!==null&&!cA(da,"http")){if(!c7(da)){c8=true;c5=c0(da)}}return c8};if(c6()){cc("Init marker: init from RS param "+c5);return c5}if(cZ()){cc("Init marker: init from UTM "+c5);return c5}if(c2()){cc("Init marker: init from OpenStat "+c5);return c5}if(cY()){cc("Init marker: init from custom tag "+c5);return c5}cc("Init marker: try init from cookie "+c5);c1();return c5};var m=function(){return bQ.get(bL)};var R=function(){s("Call: saveReferrer");bQ.set(at,j)};var bH=function(){s("Call: removeReferrer");bQ.remove(at)};var cH=function(){cM(aW,ap(bf),bh())};var cs=function(){s("Call: refreshPromoCode");if(bT.roistatOnlineChatOnly){s("PromoCode: Shut down because only online chat need to be inited");return}var cY=function(){return i(bL)};aj(cY());if(!bT.onload){bT.onload=function(){aj(cY())}}setTimeout(function(){aj(cY())},50);setTimeout(function(){aj(cY())},200);setTimeout(function(){aj(cY())},2000);setTimeout(function(){aj(cY())},10000)};bT.roistatPromoCodeRefresh=cs;var cK=function(){var cY=[];var cZ=z.getElementsByClassName(Y);if(cZ&&cZ.length){cY=cZ}return cY};var aj=function(cY){var c1=cK();s("setPromoCode: "+cY+" in "+c1.length+" elements");for(var c0=0;c0<c1.length;c0++){var cZ=c1[c0];cZ.innerHTML=cY?cY:""}};var bq=function(){var c0=bX(),cZ=i(aW),c2=c0!==null,c1=true;var c4=ap(ap(c0)).toLowerCase().split("+").join(" "),c3=ap(ap(cZ)).toLowerCase().split("+").join(" ");if(c0&&cZ){c1=c4!==c3}var cY=c2&&c1;aD="Call: needOverrideByMarker (result "+(cY?"true":"false")+") with current "+c0+":"+c4+" and old "+cZ+":"+c3;cc(aD);return cY};var aw=function(){var cZ=function(c7){return/[\u0400-\u04FF]/.test(c7)};var c6=false,c3=j,cY=bQ.get(at),c5=bT.location.host;if(!c3||!c5){cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+"), skip because one of params is empty");return c6}c5=aR(c5);c3=ap(c3);cY=ap(cY);var c1=aR(c3);if(cA(c3,"xn--")&&cZ(c5)){cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+"), skip because of bugs with punycode in FF");return c6}if(!c1){cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+"), skip because current referrer is null");return c6}if(!cY){c6=!cA(c1,c5);cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+"), compare current referrer and host");return c6}if(cA(c3,cY)){cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+"), skip because the same referrer");return c6}var c4=c5.split(".").length>2&&c1.split(".").length>2;var c2=bT.roistatCookieDomain!==bl&&bT.roistatCookieDomain!==c5;
var c0=c1.split(".").slice(1).join(".")===c5.split(".").slice(1).join(".");if(c4&&c2&&c0){cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+"), skip because sub domains of same domain");return c6}c6=!(cA(c1,c5)||(cA(c5,c1)));cc("Call: needOverrideByReferrer (result "+(c6?"true":"false")+") referrerHost: "+c1+", currentHost: "+c5);return c6};var bu=function(){return P("utm_nooverride")==="1"};var cW=function(){return !bV()&&!bu()&&(bq()||aw())};var bv=function(cZ,cY){return(cZ&&cY&&cZ!=cY)};var aU=function(c0){var cY=["cookieExpire"];var c2=c0.leadHunterEnabled;if(Number(bQ.get(bm))!==Number(c0.leadHunterEnabled)){bQ.set(bm,Number(c0.leadHunterEnabled))}if(c2){var c1={expires:G,path:"/"};if(co.domain){c1.domain=co.domain}cM(S,1,c1)}for(var cZ in c0){if(!Object.prototype.hasOwnProperty.call(c0,cZ)){continue}if(!c2&&cZ.indexOf("leadHunter")>=0&&cZ.indexOf("leadHunterTargetPagesMap")===-1){continue}if(!ai(cY,cZ)){bQ.set("roistat_"+cZ,c0[cZ])}}};var cp=function(cY){if(!cY){return}roistat.multiwidget={isEnabled:cY.is_enabled,vk:{isEnabled:cY.vk.is_enabled,link:cY.vk.link},fb:{isEnabled:cY.fb.is_enabled,link:cY.fb.link},telegram:{isEnabled:cY.telegram.is_enabled,link:cY.telegram.link}};if(Number(bQ.get(aT))!==Number(cY.is_enabled)){bQ.set(aT,Number(cY.is_enabled))}if(Number(bQ.get(bD))!==Number(cY.vk.is_enabled)){bQ.set(bD,Number(cY.vk.is_enabled))}if(bQ.get(cj)!==cY.vk.link){bQ.set(cj,cY.vk.link)}if(Number(bQ.get(H))!==Number(cY.fb.is_enabled)){bQ.set(H,Number(cY.fb.is_enabled))}if(bQ.get(cD)!==cY.fb.link){bQ.set(cD,cY.fb.link)}if(Number(bQ.get(b7))!==cY.telegram.is_enabled){bQ.set(b7,Number(cY.telegram.is_enabled))}if(bQ.get(a7)!==cY.telegram.link){bQ.set(a7,cY.telegram.link)}};var cS=function(c0,c2,cZ,c1,cY,c3){aU(c0);roistat.callTracking.enabled=c2.is_enabled;roistat.emailtracking.loaded=true;roistat.emailtracking.email=cZ.email;roistat.emailtracking.trackingEmail=cZ.trackingEmail;roistat.emailtracking.emails=cZ.emails;roistat.proxyForms.loaded=true;roistat.proxyForms.settings=c1;cp(cY);roistat.onlineChat.isEnabled=c3.is_enabled;if(Number(bQ.get(ch))!==Number(c3.is_enabled)){bQ.set(ch,Number(c3.is_enabled))}};bT.roistatModuleSetVisitCookie=function(c3,da,c1,cZ,c9,cY,db,c5){s("Call: roistatModuleSetVisitCookie("+c3+")");var c6;if(typeof c1.cookieExpire!=="number"){c6=bh().expires}else{c6=c1.cookieExpire}var c4=i(bL);var c8={expires:c6,path:"/"};if(co.domain){c8.domain=co.domain}cM(bL,c3,c8);if(!(i(bL)>0)){bQ.save(bL,c3,c8)}if(!bQ.get(aG)){var c0={expires:10*365*24*60*60,path:"/"};if(co.domain){c0.domain=co.domain}bQ.save(aG,c3,c0)}var c7=c1.abTests;if((typeof c7!=="undefined")&&bQ.isAvailable()){bQ.setObject("abTesting",c7)}applyTests();var c2=c1.isNeedToListenRequests;if((typeof c2!=="undefined")&&bQ.isAvailable()){bQ.set(ac,c2)}aj(c3);if(da){af(da);cM(aW,da,c8)}s("Call: pre renderPromoCode");aQ();cs();if(bv(c4,c3)){s("roistatModuleSetVisitCookie: visit changed from "+c4+" to "+c3)}if(bT.roistatCallback!==bl){bT.roistatCallback(c3,da)}if(!db){db={}}cS(c1,cZ,c9,cY,db.multiwidget_settings,c5);roistat.callTracking.phone=cZ.phone;roistat.callTracking.sessionTime=cZ.sessionTime;roistat.callTracking.replacementClasses=cZ.replacementClasses;roistat.callTracking.phoneScriptsJson=cZ.scripts;roistat.visit=c3;cE();cJ();ci()};bT.roistatUpdateSettings=function(cY){s("Set settings.");bN.isSettingsUpdating=false;cS(cY.js_settings,cY.calltracking,cY.emailtracking,cY.proxy_forms,cY.multiwidget.multiwidget_settings,cY.online_chat);cJ();ci()};var ad=function(){var cY;if(bT.roistatIsInitVisit===true){cY=false}else{cY=i(bL)>0}cc("Call: alreadyVisited (return "+(cY?"true":"false")+")");return cY};var c=function(cY){return encodeURIComponent?encodeURIComponent(cY):encodeURI(cY)};var aM=function(){return j?c(j):""};var F=function(){return aS()+"//"+t+"/api/site/"+X+"/"+aN()};var b1=function(){var cY={expires:1,path:"/"};if(co.domain){cY.domain=co.domain}cM(bg,"",cY)};var bn=function(){s("Call: setVisitIdCookie");var cZ=function(){var c7=aN(),c4=aM(),c1=bT.roistatIsInitVisit===true?m():0,c6=i(bg),c2=bQ.get(aG);c6=c6?c6:"";c2=c2?c2:"";bf=bf&&(!aw()||b0)?ap(ap(bf)):"";var c5=encodeURIComponent(b4);s("Calltracking: enabled="+bC.callTrackingEnabled+",manual="+bC.callTrackingManual);var c3=JSON.stringify(bT.roistat.page.params);return F()+"/addVisit?v="+M+"&marker="+encodeURIComponent(bf)+"&visit="+c1+"&first_visit="+c2+"&phone_prefix="+cd+"&phone_prefix_bind="+cU+"&phone_scripts_bind="+I+"&referrer="+c4+"&page="+c5+"&ab="+c(c6)+"&"+g()+"="+ag()+(c3==="{}"?"":"&page_params="+encodeURIComponent(c3))+((!bC.callTrackingEnabled||bC.callTrackingManual)?"&call_tracking_disabled=1":"")+(L.length>0?"&log="+encodeURIComponent(JSON.stringify(L)):"")};var cY=function(c1){setTimeout(function(){s("Call: setVisitIdCookie script creation after timeout");var c2=z.createElement("script");c2.onload=c2.onreadystatechange=function(){var c4=this.readyState?this.readyState:"unknown";s("Call: setVisitIdCookie script state changed to "+c4)};c2.src=c1;
c2.type="text/javascript";c2.async=true;c2.id=O;var c3=z.getElementsByTagName("script")[0];c3.parentNode.insertBefore(c2,c3);s("Call: setVisitIdCookie appended "+((z.getElementById(O))?"true":"false"));s("Call: sendJSONPRequest to URL "+c1);b1()},bC.jsonpRequestTimeout)};if(bf){af(bf);if(o){cH()}}an();var c0=cZ();cY(c0);j?R():bH()};var bt=function(){s("Call: sendAbTests");var cZ=function(){var c3=aN(),c2=i(bL);return aS()+"//"+t+"/site-api/"+au+"/"+c3+"/visit/"+c2+"/addAbVariant"};var c0=i(bg);if(!c0){return}var c1=cZ();c1=c1+"?ab="+c(c0);var cY=z.createElement("img");cY.src=c1;b1()};var aC={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return(aC.Android()||aC.BlackBerry()||aC.iOS()||aC.Opera()||aC.Windows())}};var aL={isIE:function(c0,c2){var c3="IE",cZ=z.createElement("B"),cY=z.documentElement,c1;if(c0){c3+=" "+c0;if(c2){c3=c2+" "+c3}}cZ.innerHTML="<!--[if "+c3+']><b id="iecctest"></b><![endif]-->';cY.appendChild(cZ);c1=!!z.getElementById("iecctest");cY.removeChild(cZ);return c1}};var bU=function(){return new Date().getTime()};var cF=function(){return bQ.get(Q)};var U=function(){var cY="";bT.onerror=function(c4,c3,c0,c2,c1){var cZ=!c2?"":", column: "+c2;cZ+=!c1?"":", error: "+c1;cY=cY+", Error: "+c4+", url: "+c3+", line: "+c0+cZ};setTimeout(function(){var c6=false,c7="";var c2=cK();for(var c5=0;c5<c2.length;c5++){var c1=c2[c5];if(c1!==null&&!c1.innerHTML){c6=true;c7="Promo HTML: "+c1.innerHTML}}if(!(i(bL)>0)){c6=true;c7=c7+"; roistat_visit = "+i(bL)}if(c6){var c0=z.getElementById(O);var cZ=c0?1:0;var c3=bT.navigator.userAgent;c7=encodeURIComponent(c7);var c4=z.createElement("img");c4.src=aS()+"//"+t+"/site-api/"+au+"/"+aN()+"/debug?message="+c7+"&agent="+c3+"&"+g()+"="+ag()+"&jserror="+cY+"&scriptResponse="+cZ+"&version="+M+"&debug="+aY}},20000)};var bj=function(){var c0=z.getElementsByTagName("body");var c1=z.documentElement;var cZ=0,c2=0;if(c0.length){var cY=c0[0];cZ=bT.innerWidth||c1.clientWidth||cY.clientWidth;c2=bT.innerHeight||c1.clientHeight||cY.clientHeight}else{cZ=bT.innerWidth||c1.clientWidth;c2=bT.innerHeight||c1.clientHeight}return{width:cZ,height:c2}};var aQ=function(){var c3=z.getElementsByClassName("roistat-promo-wrap");if(c3.length){s("PromoCode: old promo code length - exit");return}if(bT.roistatOnlineChatOnly){s("PromoCode: Shut down because only online chat need to be inited");return}var c1=function(){var da=z.createElement("div");da.innerHTML=roistatPromoCode;var c8=z.getElementsByTagName("body");if(c8.length){c8[0].appendChild(da)}s("PromoCode: appended to body "+roistatPromoCode.length);var c9=z.getElementsByClassName("roistat-promo-wrap")[0];if(!c9){s("PromoCode: roistat-promo-wrap not found, skip");return}var c7=c9.style;var c5,c6,c4;setInterval(function(){c5=bj();c6=c9.offsetWidth;c4=c9.offsetHeight*2;switch(roistatPosition){case"top_left":c7.left=0;c7.top=0;break;case"top":c7.left=((c5.width-c6)/2)+"px";c7.top=0;break;case"top_right":c7.right=0;c7.top=0;break;case"left":c7.left=0;c7.top=((c5.height-c4)/2)+"px";break;case"right":c7.right=0;c7.top=((c5.height-c4)/2)+"px";break;case"bottom_left":c7.left=0;c7.bottom=0;break;case"bottom":c7.left=((c5.width-c6)/2)+"px";c7.bottom=0;break;case"bottom_right":c7.right=0;c7.bottom=0;break;default:c7.left=0;c7.top=0}},500)};var cY=bQ.getObject("promo_code_options");if(cY){bT.roistatPromoCode=cY.template;bT.roistatPosition=cY.position;c1()}else{var c2=z.getElementsByTagName("head")[0]||z.documentElement;var c0=z.createElement("script");c0.src=aS()+"//"+t+"/site-api/"+au+"/"+aN()+"/getPromoCode";c2.insertBefore(c0,c2.firstChild);s("PromoCode: loading started");var cZ=false;c0.onload=c0.onreadystatechange=function(){if(!cZ&&(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")){cZ=true;c0.onload=c0.onreadystatechange=null;if(c2&&c0.parentNode){c2.removeChild(c0)}}if(!cZ){return}s("PromoCode: loaded");if(typeof roistatPromoCode==="undefined"||roistatPromoCode.length<1){s("PromoCode: is disabled");return}cY={template:roistatPromoCode,position:roistatPosition};bQ.setObject("promo_code_options",cY);c1()}}};var ai=function(cZ,c0){for(var cY=0;cY<cZ.length;cY++){if(cZ[cY]===c0){return true}}return false};var s=function(cZ){var c0=bU()-a5;var cY="["+(c0/1000)+"s] "+cZ;aY=aY+"; "+cY;if(typeof console!=="undefined"&&console.log&&a9){console.log(cY)}};var cc=function(cY){s(cY);if(!b2){return}L.push(cY)};var av=function av(){var c2=bT.onpopstate;var c3=bT.history.pushState;var cY=bT.history.replaceState;W(bT,"popstate",function c1(c4){s("[Roistat]: popstate event catch");bJ();if(T()&&typeof c2==="function"){c2(c4)}});W(bT.history,"pushState",function c0(c5,c6,c4){s("[Roistat]: pushState event catch");bJ();if(T()&&typeof c3==="function"){c3.apply(this,[c5,c6,c4])
}});W(bT.history,"replaceState",function cZ(c5,c6,c4){s("[Roistat]: replaceState event catch");bJ();if(T()&&typeof cY==="function"){cY.apply(this,[c5,c6,c4])}})};(function br(){av();if(bT.onRoistatModuleLoaded!==bl&&typeof bT.onRoistatModuleLoaded==="function"){bT.onRoistatModuleLoaded()}})();var bo=function(cZ){var c4=function(db,c9){var c8;if(cA(c9,"*")){var da=new RegExp(c9.split("*").join(".*"));c8=da.test(db)}else{c8=db===c9}s("LeadHunter: compare current: "+db+", setting: "+c9+" with result = "+(c8?1:0));return c8};var cY=bT.location.href,c1=false,c0=false,c6="",c2=0,c5;c5=cZ?cZ.split(","):[];if(!cY||c5.length===0){c1=true}else{c6=ax(cY);var c7;for(var c3=0;c3<c5.length;c3++){c7=c5[c3].split("www.").join("").split("http://").join("").split("https://").join("").replace(/\/+$/,"");if(/^!/.test(c7)){if(c4(c6,c7.split(/^!/).join(""))){c0=true;break}}else{c2++;if(c4(c6,c7)){c1=true;break}}}}if(c0){s('LeadHunter: current page "'+c6+'" is disabled by list');return false}if(!c1&&c2>0){s('LeadHunter: current page "'+c6+'" is not listed');return false}s('LeadHunter: current page "'+cY+'", cleaned: "'+c6+'" is not disabled in '+c5.length+" list of pages");return true};cR();(function aP(){var dj="empty",c4=false,cZ=true,dc=false;var dg={roistat_visit:i(bL),marker:bf,user_agent:bT.navigator.userAgent,current_page:{title:z.title,href:bT.location.protocol+"//"+bT.location.host+bT.location.pathname,},};var dk=function(dp,dn,dm){if(dp.addEventListener){dp.addEventListener(dn,dm,false)}else{if(dp.attachEvent){dp.attachEvent("on"+dn,dm)}else{s("Handler could not be attached")}}};var de=function(dp,dm){if(dp===bl||typeof dm!=="string"||dm.length===0){return}var dn=dp.getElementsByClassName(dm);if(dn===bl||dn.length===0){return}return dn[0]};var dl=function(dm){return typeof dm==="object"&&dm!==null};var dh={leadHunter:function(){var e9="roistat-lh-form",dL="roistat-lh-form",fc="roistat-lh-head-text",dZ="roistat-lh-head",dH="roistat-lh-thank-you",eq="roistat-lh-thank-you",ds="roistat-lh-close",dt="roistat-lh-submit",d8="roistat-lh-hidden",eO="roistat-lh-wrap",dN="roistat-lh-popup-wrapper",ep="roistat-lh-popup",fb="roistat-lh-agreement",el="roistat-lh-agreement roistat-lh-mobile",fq="roistat-lh-agreement-input",e0="roistat-lh-agreement-link",dm="roistat-lh-agreement-doc",e5="roistat-lh-alert-row",ex="roistat-lh-agreement",ek="roistat-lh-popup-iframe",ez="roistat_leadHunterUrl",e2="roistat_leadHunterAppearanceUrl",ec="roistat_leadHunterTargetPagesList",dG="roistat_leadHunterCaught",eG="roistat_leadHunterMinTime",d3="roistat_leadHunterAutoShowTime",eD="roistat_leadHunterPulsatorEnabled",dX="roistat_leadHunterScriptsCaught",fr="roistat_leadHunterScriptsShownCount",ei="roistat-lh-load-done",dM="roistat-lh-close-modal",eQ="roistat-lh-script-settings",eP="roistat-lh-setting-size",e6="roistat-lh-before-submit",eA="roistat-lh-before-submit-done",fe="roistat-lh-after-submit",eT="roistat-lh-event-data",eU="roistat-lh-translate-form",fo={topLeft:{bottom:"80%",right:"auto"},topRight:{bottom:"80%",right:"3%"},bottomRight:{bottom:"10%",right:"3%"},bottomLeft:{bottom:"10%",right:"auto"}};var dF=0.3,dR=0.001,dI=false,dU=0,dP=0,dV=0,fg=0,dT=0,d9=false,dx=false,dS,e4,es,ey,eN,dY,fp,fk,e1,fn,dB,fh,eK,et,ej,dE,dq,d7,dW,d4,eY,e7,d1,fa,ff,eb;var fj={pulsator:{previousClass:""},leave:{isShowEnabled:false},timeoutId:0};var fd=function(fv){var fu=encodeURIComponent?encodeURIComponent:encodeURI;return fu(fv)};var eS=function(){if(!bT.roistat.leadHunter.isEnabled){return false}if(bT.roistatLeadHunterInited){return false}bT.roistatLeadHunterInited=true;if(bQ.get(bm)<1){s("LeadHunter: disabled");return false}return true};var d6=function(){dq=bQ.get(ez);if(!dq){s("LeadHunter: not active cause of empty url");return false}d7=bQ.get(e2);fg=bQ.get(eG);dT=bT.roistat.leadHunter.form.autoShowTime===null?bQ.get(d3):bT.roistat.leadHunter.form.autoShowTime;c4=bQ.get(eD)==1;dp();return true};var ee=function(){return bQ.get(dG)>0};var dp=function(){if(!(i(S)>0)){s("LeadHunter: not active, expired for this visit");d9=true}};var dy=function(fu){d4=eY.src;var fv={version:M,additionalNotifyEmail:bT.roistat.leadHunter.additionalNotifyEmail,projectKey:aN(),language:V,visitId:b8(),moduleTargetOrigin:bT.location.origin,referrer:bT.location.href,windowWidth:bT.innerWidth||0,iframeWrapperWidth:ey.offsetWidth||0,sendRequestUrl:bQ.get(ez),message:ei};eY.contentWindow.postMessage(fv,d4);eF();if(fu){s("Beta Test on, iframe fired, rise up iframe show count state");dr()}};var eh=function(){dx=true;dw("click");dy();eM()};var dv=function(){var fu=bT.location.hash;if(!fu){return}if(cA(fu,"roistat-lead-hunter")){eh()}};var ef=function dD(){s("LeadHunter: binding timeout");if(d9){s("LeadHunter: leadhunter is expired, no timeout show allowed");return}if(dI){s("LeadHunter: leadhunter was shown, no timeout show allowed");return}if(dT>0){var fu=(dU-bU())+dT*1000;s("LeadHunter: binding timeout with delay "+fu+" ms");clearTimeout(fj.timeoutId);fj.timeoutId=setTimeout(function(){s("LeadHunter: form auto activate with autoTime = "+dT);
if(!dI){s("LeadHunter: show by timeout");dx=true;dw("auto");dy(true);eM()}},fu)}else{s("LeadHunter: auto show time is not positive, feature disabled")}};var e3=function(){e1.onclick=eN.onclick=ev;fn.onclick=ea;if(dl(fh)){dk(fh,"click",em)}if(dl(eK)){dk(eK,"change",fs)}var fv=z.getElementsByClassName("roistat-lh-input");if(Array.isArray(fv)){for(var fy=0;fy<fv.length;fy++){dk(fv[fy],"keyup",function(fA){fA=fA||event;var fz=(fA.keyCode?fA.keyCode:fA.which);if(fz==13){ea()}})}}var fw=bT.onresize;bT.onresize=function(fz){if(fw){fw(fz)}e8(fz)};if(!d9){var fu=z.onmouseout;z.onmouseout=function(fz){if(fu){fu(fz)}eJ(fz)}}if(c4&&!db()&&dl(dS)){dS.onmouseover=function(){aa(dS,"roistat-lh-pulsator-hover")};dS.onmouseout=function(){bK(dS,"roistat-lh-pulsator-hover")};dS.onclick=function(){eh()}}var fx=bT.onhashchange;bT.onhashchange=function(){if(fx){fx.apply(this,arguments)}dv()}};var fm=function(){if(c4&&!db()&&dl(dS)){dS.onmouseover=function(){aa(dS,"roistat-lh-pulsator-hover")};dS.onmouseout=function(){bK(dS,"roistat-lh-pulsator-hover")};dS.onclick=function(){eh()}}eN.onclick=ev;eY=z.getElementById(ek);if(dl(eY)){dk(eY,"load",function(){dy();fi()})}var fv=bT.onresize;bT.onresize=function(fx){if(fv){fv(fx)}e8(fx)};if(!d9){var fu=z.onmouseout;z.onmouseout=function(fx){if(fu){fu(fx)}if(!T()){s("ShowLimit: Beta Test off, check cursor usually");eJ(fx)}else{s("ShowLimit: Beta Test on, check cursor by caught or max show limit");if(!eL()&&!dQ()){s("ShowLimit: Check cursor allowed");eJ(fx,true)}}}}var fw=bT.onhashchange;bT.onhashchange=function(){if(fw){fw.apply(this,arguments)}dv()}};var eu=function(fv){var fu=z.getElementsByClassName(fv);if(fu.length>0){return fu[0]}else{return null}};var er=function(){var fx=eu("roistat-lh-title");if(dl(fx)&&roistat.leadHunter.form.title){fx.innerHTML=roistat.leadHunter.form.title}var fv=eu("roistat-lh-sub-title");if(dl(fv)&&roistat.leadHunter.form.subTitle){fv.innerHTML=roistat.leadHunter.form.subTitle}var fw=eu("roistat-lh-thank-you");if(dl(fw)&&roistat.leadHunter.form.thankYouText){fw.innerHTML=roistat.leadHunter.form.thankYouText}var fz=eu("roistat-lh-submit");if(dl(fz)&&roistat.leadHunter.form.buttonText){fz.value=roistat.leadHunter.form.buttonText}var fy=eu("roistat-lh-text-label-name");if(dl(fy)&&roistat.leadHunter.form.nameLabel){fy.innerHTML=roistat.leadHunter.form.nameLabel}var fu=eu("roistat-lh-text-label-contact");if(dl(fu)&&roistat.leadHunter.form.contactLabel){fu.innerHTML=roistat.leadHunter.form.contactLabel}};var dO=function(fv,fz,fy){var fu;if(!fv){s("LeadHunter: deactivating, empty form")}else{s("LeadHunter: rendering hidden form")}eN=z.createElement("div");ey=z.createElement("div");ey.innerHTML=fv;eN.className=d8;ey.className=d8;if(fz&&c4&&fy&&!db()){var fw=typeof fy.position==="string"&&fy.position!==""?fy.position:"bottomRight";fu=z.createElement("div");fu.innerHTML=fz;dS=fu.childNodes.item(0);e4=dS.childNodes.item(1);es=dS.childNodes.item(2).childNodes.item(0);e4.setAttribute("style","background: "+fy.button.background+";");es.setAttribute("style","fill: "+fy.button.color+";");dS.setAttribute("style","bottom: "+fo[fw].bottom+";right:"+fo[fw].right+";");fj.pulsator.previousClass=dS.className;dS.className=d8;z.body.appendChild(dS)}z.body.appendChild(eN);z.body.appendChild(ey);dY=z.getElementById(dZ);fp=z.getElementById(dL);fk=z.getElementById(eq);e1=z.getElementById(ds);fn=z.getElementById(dt);dB=z.getElementById(fb);eK=z.getElementById(fq);fh=z.getElementById(e0);et=z.getElementById(dm);ej=z.getElementById(e5);dE=z.getElementById(ex);var fx=eu(dN);dW=dl(fx)&&fx.getAttribute("data-is-iframe");if(dW){fm()}else{er();e3();dv();fi()}};var fl=function(fw){var fv=fw.button&&fw.button.background&&fw.button.color;if(!fv){return}bQ.setObject(bA,eb);var fu=typeof fw.position==="string"&&fw.position!==""?fw.position:"bottomRight";if(dl(e4)){e4.setAttribute("style","background: "+fw.button.background+";")}if(dl(es)){es.setAttribute("style","fill: "+fw.button.color+";")}if(dl(dS)){dS.setAttribute("style","bottom: "+fo[fu].bottom+";right:"+fo[fu].right+";")}};var dC=function(){var fu=bQ.get(bB),fw=bQ.get(bc),fv=bQ.getObject(bA);dO(bW.decode(fu),bW.decode(fw),fv)};var ed=function(){var fv=ey.clientWidth,fu=ey.clientHeight;if(dl(ey)){ey.setAttribute("style",ey.getAttribute("style")+" width: "+fv+"px; height: "+fu+"px;")}if(dl(fp)){fp.className=d8}if(dl(dY)){dY.className=d8}if(dl(dB)){dB.className=d8}if(dl(fk)){fk.setAttribute("style","width: "+fv+"px; height: "+fu+"px; display: table-cell;");fk.className=dH}setTimeout(function(){s("LeadHunter: close form after timeout");ev()},7000)};var eM=function(){var fv=Math.round((eZ()-ey.clientHeight)/2);var fu=Math.round((ft()-ey.clientWidth)/2);if(dl(ey)){ey.setAttribute("style","left: "+fu+"px; top: "+Math.max(0,fv)+"px;")}};var dw=function(fv){if(bT.roistat.leadHunter.onBeforeAppear){s("LeadHunter: process user defined onBeforeAppear");bT.roistat.leadHunter.onBeforeAppear(fv);if(dW){eF()}}if(dl(ey)){ey.setAttribute("style","left:20px;top:-20px;opacity:0");
ey.className=ep}if(dl(eN)){eN.className=eO}if(dl(fp)){fp.className=e9}if(dl(dY)){dY.className=fc}if(dl(dB)){dB.className=el}if(dl(fk)){fk.setAttribute("style","");fk.className=d8}if(dl(eN)){eN.setAttribute("style","opacity:0;")}dI=true;setTimeout(function(){eN.setAttribute("style","opacity:.5;")},10);var fw=i(bL),fu=d7+"?visit_id="+fw;J(fu);if(bT.roistat.leadHunter.onAfterAppear){s("LeadHunter: process user defined onAfterAppear");bT.roistat.leadHunter.onAfterAppear(fw,eN,ey,fp);if(dW){eF()}}};var eR=function ew(){dU=bU();dC();s("LeadHunter: form initialized")};var fi=function eg(){s("LeadHunter: tuning appearance for page");if(!bo(bQ.get(ec))||(bQ.get(aE)&&!bQ.get(N))){s("LeadHunter: disabled on page");fj.leave.isShowEnabled=false;clearTimeout(fj.timeoutId);if(db()){cZ=false;c7()}if(dl(dS)){dS.className=d8}}else{s("LeadHunter: enabled on page");if(!ee()&&!T()){s("ShowLimit: Beta Test off, bindShowOnTimeout usually");fj.leave.isShowEnabled=true;ef()}if(T()){s("ShowLimit: Beta Test on, bindShowOnTimeout by caught or max show limit");if(!eL()&&!dQ()){s("ShowLimit: bindShowOnTimeout allowed");fj.leave.isShowEnabled=true;ef()}}if(dl(dS)){dS.className=fj.pulsator.previousClass}}};var d0=function eI(){s("LeadHunter: processing single page application state change");dU=bU();fi()};var eX=function en(){ak(d0);W(bT,"resize",function(){var fv=600,fx=350,fy=bT.innerWidth,fw={};if(fy<fv&&fy>fx){fw={isMobileMarkup:true,isMobileMarkupXs:false};eY.contentWindow.postMessage({sizeSettings:fw,message:eP},d4);return}if(fy<fx){fw={isMobileMarkup:false,isMobileMarkupXs:true};eY.contentWindow.postMessage({sizeSettings:fw,message:eP},d4);return}fw={isMobileMarkup:false,isMobileMarkupXs:false};eY.contentWindow.postMessage({sizeSettings:fw,message:eP},d4)});W(bT,"message",function fu(fA){var fz=typeof fA.data==="string"?fA.data:fA.data.message;if(fz===eQ){e7=fA.data.scriptId;d1=fA.data.showsLimit;var fx=bQ.getObject(n)!==null;if(fx){fa=fA.data.leadHunterAutoShowTime;ff=fA.data.leadHunterMinTime;ff=fA.data.leadHunterMinTime;eb=fA.data.leadHunterPulsatorSettings;bQ.set(eG,ff);bQ.set(d3,fa);if(eb){bQ.set(eD,Number(eb.isEnabled));fl(eb)}}s("ShowLimit: Get lhScriptId: "+fA.data.leadHunterId+" and lhScriptMaxShownCount: "+fA.data.leadHunterMaxShownCount+" from lh widget");eC()}if(fz===dM){ev()}if(fz===eP){eY.setAttribute("style","width: "+fA.data.width+"px !important; height: "+fA.data.height+"px !important;");e8(fA)}if(fz===e6){var fB=fA.data.caughtLeadData;if(bT.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");var fw=bT.roistat.leadHunter.onBeforeSubmit(fB);if(fw){fB=fw}}if(!T()){s("ShowLimit: Beta Test off, catch before submit message, setCookieLeadHunterCaught will run");dz()}else{s("ShowLimit: Beta Test on, catch before submit message, setLeadHunterScriptCaught will run");eE()}var fv=bQ.getObject(b5);var fy=fv!==null;var fC=fy&&fB.isNeedCallback===null&&!D(fv);if(fC){fB.isNeedCallback=0}eY.contentWindow.postMessage({caughtLead:fB,message:eA},d4)}if(fz===fe){if(bT.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bT.roistat.leadHunter.onAfterSubmit({name:fA.data.name,phone:fA.data.phone})}}})};function eF(){var fu={apiData:bT.roistat.leadHunter.form,message:eT};eY.contentWindow.postMessage(fu,d4)}function eC(){if(!eS()){return}var fu=bQ.getObject(n)!==null;if(fu){dA()}if(!d6()){return}s("LeadHunter: activated");eR();fi();eX()}function eZ(){return(bT.innerHeight?bT.innerHeight:z.documentElement.clientHeight==0?z.body.clientHeight:z.documentElement.clientHeight)}function ft(){return(bT.innerWidth?bT.innerWidth:z.documentElement.clientWidth==0?z.body.clientWidth:z.documentElement.clientWidth)}function eJ(fx,fu){fx=fx||event;dV=fx.clientY;var fv=dV/eZ(),fz=dP>0&&dP>fv,fw=fv<dR,fy=(bU()-dU)>fg*1000;if(fz&&fw&&!dI&&fy&&fj.leave.isShowEnabled&&!ee()){s("LeadHunter: show modal with because move up ("+dP+" -> "+fv+") and in modal zone and show on leave enabled");dw("exit");dy(fu);eo(fx)}if(fv<dF){dP=fv}}function e8(fu){if(dx){eM()}else{fu=fu||event;eo(fu)}}function eo(fz){var fv=fz.type==="message"?fz.data.width:ey.offsetWidth;var fw=ft();var fu=fz.clientX-Math.round(fv/2)||ey.offsetLeft;fu=Math.max(20,Math.min(fu,fw-fv-20));var fA=fu+fv>fw-40;if(fA){var fx=(fu+fv-20)-(fw-40);fu=fu-fx}var fy=fw-40>fv?"":"width: "+(fv-40)+"px;";if(dl(ey)){ey.setAttribute("style","left: "+fu+"px; top: 0px; "+fy)}}function dz(){bT.roistatSetCookie(dG,1,co)}function ev(){if(!T()){s("ShowLimit: Beta Test off, setCookieLeadHunterCaught");dz()}if(dl(eN)){eN.setAttribute("style","opacity:0")}if(dl(ey)){ey.style.top="-"+ey.offsetHeight*2+"px";setTimeout(function(){ey.className=eN.className=d8},500)}}function ea(){var fI=z.getElementById("roistat-lh-phone-input"),fw=z.getElementById("roistat-lh-name-input"),fy,fG;fy=fI===null?"":fI.value;fG=fw===null?"":fw.value;var fD={name:fG,phone:fy,isNeedCallback:null,callbackPhone:null,fields:{}};if(bT.roistat.leadHunter.onBeforeSubmit){s("LeadHunter: process user defined onBeforeSubmit");
var fz=bT.roistat.leadHunter.onBeforeSubmit(fD);if(fz){fD=fz}}var fF=fD.phone.length<1;var fH=fD.phone.indexOf("_")===-1;var fB=!fF&&fH;var fE=fD.name.length<1;var fv=!fE||!bT.roistat.leadHunter.form.isNameRequired;if(!fB&&dl(fI)){fI.setAttribute("style","border: 2px solid #E0571A;");return}if(!fv&&dl(fw)){fw.setAttribute("style","border: 2px solid #E0571A;");return}var fu=dq+"?v="+M+"&lead-hunt-input="+encodeURIComponent(fD.phone)+"&lead-name="+encodeURIComponent(fD.name)+"&visit="+b8();if(fD.isNeedCallback!==null&&fD.isNeedCallback!==bl){fu=fu+"&is_need_callback="+(fD.isNeedCallback>0?1:0)}if(fD.callbackPhone){fu=fu+"&callback_phone="+fD.callbackPhone}if(bT.roistat.leadHunter.additionalNotifyEmail!==null){fu=fu+"&additional_email="+encodeURIComponent(bT.roistat.leadHunter.additionalNotifyEmail)}var fx=0;if(fD.fields&&typeof fD.fields==="object"){for(var fA in fD.fields){if(fD.fields.hasOwnProperty(fA)){++fx}}}if(fx>0){fu=fu+"&fields="+fd(JSON.stringify(fD.fields))}fu=fu+"&t="+bU();var fC=z.createElement("img");fC.src=fu;if(dl(fI)){fI.setAttribute("style","")}if(!T()){s("ShowLimit: Beta Test off, caught LH usually");dz()}else{s("ShowLimit: Beta Test on, caught LH by set setLeadHunterScriptCaught");eE()}if(!dl(fk)){ev();d5()}else{ed()}if(bT.roistat.leadHunter.onAfterSubmit){s("LeadHunter: process user defined onAfterSubmit");bT.roistat.leadHunter.onAfterSubmit({name:fG,phone:fy})}}function em(fu){if(fu.preventDefault){fu.preventDefault()}else{fu.returnValue=false}if(dl(et)){et.style.display==="block"?et.style.display="none":et.setAttribute("style","display: block; padding: 0 30px; width:"+ey.clientWidth+"px;")}e8()}function fs(){if(dl(fn)){fn.disabled===true?fn.disabled=false:fn.disabled=true}if(dl(ej)){ej.style.display==="block"?ej.style.display="none":ej.style.display="block"}}function d5(){z.onmousemove=null;if(dl(eN)){eN.onresize=null}}var d2=function(fA,fD){if(!fA||!fD){s("LeadHunter: skip phone mask render due to empty input or mask");return}s("LeadHunter: render phone mask "+fD+" for input: "+fA.value);if(bT.roistatRenderPhoneMaskMutex){return}bT.roistatRenderPhoneMaskMutex=true;var fx="_",fw="x",fz="",fy=fD.toLowerCase().split(fw).join(fx).split(fz).join(fx);var fv=function(fE){if(fA.setSelectionRange){fA.setSelectionRange(fE,fE)}else{if(fA.createTextRange){var fF=fA.createTextRange();fF.collapse(true);fF.moveEnd("character",fE);fF.moveStart("character",fE);fF.select()}}};var fB=function(fE){if(!fE){return 0}var fF=fE.indexOf(fx);if(fF<0){return fE.length}return fF};var fC=function(fE){fv(fB(fE))};var fu=function(fN){var fO=fy.split("");if(!fN){return fy}var fE=fN.split("");var fP=[],fM,fJ,fL,fI,fG,fF,fK;for(var fH=0;fH<fO.length;fH++){fJ=fO[fH];if(fH>=fE.length){fP.push(fJ);continue}fG=((fH+1)<fO.length)?fO[fH+1]:null;fF=((fH+1)<fE.length)?fE[fH+1]:null;fK=((fH+2)<fE.length)?fE[fH+2]:null;fM=fE[fH];fL=parseInt(fM)>=0;fI=(fJ===fx)&&fL;if(!fI){fP.push(fJ);continue}if(fF===fx&&fG!==fx&&fK!==fG){fP.push(fJ);continue}fP.push(fM)}return fP.join("")};setTimeout(function(){var fE=fu(fA.value);if(fA.value!==fE){fA.value=fE}fC(fE);bT.roistatRenderPhoneMaskMutex=false},1)};var eW=function(fu,fw,fv){bQ.set(bB,bW.encode(fu));bQ.set(bc,bW.encode(fw));bQ.setObject(bA,fv)};var eB=function(fu){V=fu;if(eY===bl){return}dn()};var dn=function(){var fu={language:V,message:eU};eY.contentWindow.postMessage(fu,d4)};var eE=function(){s("ShowLimit: Start set roistat_leadHunterScriptsCaught");var fu=dJ(dX);if(!fu){fu={}}s("ShowLimit: Cookie roistat_leadHunterScriptsCaught for lhScriptId set to 1");fu[e7]=1;eV(dX,fu)};var dr=function(){s("ShowLimit: Start set roistat_leadHunterScriptsShownCount");var fv=dJ(fr);if(!fv){fv={}}var fw=fv.hasOwnProperty(e7);if(!fw){s("ShowLimit: Cookie roistat_leadHunterScriptsShownCount for lhScriptId initialized");fv[e7]=0}var fu=fv[e7]+1>d1;if(fu){s("ShowLimit: Stored lhScriptId has reached lhScriptMaxShownCount, show counter in cookie not rise up, return from function");return}s("ShowLimit: Cookie already has, exist lhScriptId show counter rise up");fv[e7]+=1;eV(fr,fv)};var eV=function(fu,fv){cM(fu,JSON.stringify(fv),co)};var dJ=function(fu){var fv=i(fu);if(typeof fv!=="undefined"){return JSON.parse(fv)}return fv};var dQ=function(){if(d1===0){s("ShowLimit: show limit off and set to 0");return false}var fu=dJ(fr),fv=fu?fu[e7]:null,fw=fv+1>d1;s("ShowLimit: Check isCurrentScriptMaxShownCountReached, show limit on, check for exceeding the limit, is "+fw);return fw};var eL=function(){var fw=dJ(dX),fu=fw?fw[e7]:null,fv=fu===1;s("ShowLimit: Check isCurrentLeadHunterScriptSubmitted, is "+fv);return fv};var dA=function(){bQ.set(aE,du());bQ.set(bB,bW.encode(eH()));bQ.set(ec,dK())};var eH=function(){var fu=aS()+"//"+t+"/api/site/1.0/"+aN()+"/leadhunter/script/"+bQ.get(aE)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+fu+'" frameborder="0"></iframe></div>'};var du=function(){var fu=bQ.getObject(n);if(fu===null){return
}bQ.set(N,"");var fy=Number(bQ.get(bm));var fB=Object.keys(fu);var fz=fB.sort()[0];if(!fy){return fz}for(var fx=0;fx<fB.length;fx++){var fC=fu[fB[fx]];var fA=fC.targetPageList;var fw=bo(fA.join(","));var fv=fA.length===0;if(fv||fw){if(!fC.timetable.isEnabled||D(fC.timetable)){fz=fB[fx];bQ.set(N,fz)}}}return fz};var dK=function(){var fu=bQ.get(aE);var fv=JSON.parse(bQ.get(n));return fv[fu]?fv[fu].targetPageList.join(","):""};b6(eC);bT.roistatLeadHunterShow=eh;bT.roistatRenderPhoneMask=d2;bT.roistat.leadHunter.localization.translateToRussian=function(){eB(by)};bT.roistat.leadHunter.localization.translateToEnglish=function(){eB(cQ)}},multiwidget:function(){var dU="roistat-multiwidget-hidden",d0="roistat-multiwidget-pulsator-phone",dY="roistat-multiwidget-pulsator-popup-item-lead-hunter",dD="roistat-multiwidget-pulsator-fill",d2="roistat-multiwidget-pulsator-fill-svg",dM="roistat-multiwidget-pulsator-img-icon",dC="roistat-multiwidget-pulsator-popup-item-chat",dq="roistat-multiwidget-pulsator-popup-item-facebook",du="roistat-multiwidget-pulsator-popup-item-vk",dL="roistat-multiwidget-pulsator-popup-item-telegram",dQ="roistat-multiwidget-pulsator-items-popup-holder",dw="roistat-multiwidget-pulsator-popup-tail";var dB,dP,dH,dZ,dm,ds,d1,dJ,dy,dp,dz,dr;var dX={topLeft:{bottom:"unset",right:"unset",top:"20px",left:"35px"},topRight:{bottom:"unset",right:"35px",top:"20px",left:"unset"},bottomRight:{bottom:"20px",right:"35px",top:"unset",left:"unset"},bottomLeft:{bottom:"20px",right:"unset",top:"unset",left:"35px"}};var dv={topLeft:{bottom:"unset",right:"unset",top:"110px",left:"0"},topRight:{bottom:"unset",right:"0",top:"110px",left:"unset"},bottomRight:{bottom:"110px",right:"0",top:"unset",left:"unset"},bottomLeft:{bottom:"110px",right:"unset",top:"unset",left:"0"}};var dG={topLeft:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"unset",top:"-14px",left:"40px"},topRight:{"border-top-color":"white","border-right-color":"transparent","border-bottom-color":"transparent","border-left-color":"white",bottom:"unset",right:"34px",top:"-14px",left:"unset"},bottomRight:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"40px",top:"unset",left:"unset"},bottomLeft:{"border-top-color":"transparent","border-right-color":"white","border-bottom-color":"white","border-left-color":"transparent",bottom:"-14px",right:"unset",top:"unset",left:"34px"}};function dT(d4){s("Multiwidget: "+d4)}function dK(){dP=de(dB,d0);dH=de(dB,dQ);dZ=de(dB,dw);dJ=de(dH,dY);dy=de(dH,dC);dp=de(dH,du);dz=de(dH,dq);dr=de(dH,dL);dm=de(dP,dD);ds=dP.getElementsByClassName(d2);d1=de(dP,dM)}function dE(){if(dl(dH)){dH.classList.toggle(dU)}}function d3(){dT("add pulsator events");dk(dP,"click",function(){dE()});dk(dJ,"click",function(){dT("opening leadhunter via multiwidget");bT.roistatLeadHunterShow();dE()});dk(dy,"click",function(){dT("opening online chat via multiwidget");bT.roistatOnlineChatShow();dE()});dk(dp,"click",function(){bT.open(bQ.get(cj),"_blank")});dk(dz,"click",function(){bT.open(bQ.get(cD),"_blank")});dk(dr,"click",function(){bT.open(bQ.get(a7),"_blank")})}function dt(d4){if(dl(d4)){d4.classList.add(dU)}}function dN(){dt(dJ)}function dI(){dT("hiding disabled multiwidget options");var d4=Number(bQ.get(bm)),d5=Number(bQ.get(ch)),d6=Number(bQ.get(bD)),d7=Number(bQ.get(H)),d8=Number(bQ.get(b7));if(!d4||!c4||!cZ){dT("hiding leadhunter option");dN()}if(!d5){dT("hiding online chat option");dt(dy)}if(!d6){dT("hiding vk-messenger option");dt(dp)}if(!d7){dT("hiding fb-messenger option");dt(dz)}if(!d8){dT("hiding telegram-messenger option");dt(dr)}}function dn(){var d5=bQ.getObject(e);dT("start filling pulsator");if(d5){if(dl(dm)){dm.setAttribute("style","background: "+d5.button_color+";")}if(dl(d1)){d1.setAttribute("style","fill: "+d5.icon_color+";")}if(Array.isArray(ds)){for(var d4=0;d4<ds.length;d4++){ds[d4].setAttribute("style","fill: "+d5.button_color+";")}}}}function dR(){var d4=bQ.getObject(e);return typeof d4.position==="string"&&d4.position!==""?d4.position:"bottomRight"}function dO(){if(dl(dB)){var d4=dR();dB.setAttribute("style","top: "+dX[d4].top+";right:"+dX[d4].right+";bottom:"+dX[d4].bottom+";left:"+dX[d4].left+";")}}function dF(){if(dl(dP)){var d4=dR();var d5=d4==="topLeft"||d4==="bottomLeft"?"margin-right":"margin-left";dP.setAttribute("style",d5+": auto")}}function dS(){if(dl(dH)){var d4=dR();dH.setAttribute("style","top: "+dv[d4].top+";right:"+dv[d4].right+";bottom:"+dv[d4].bottom+";left:"+dv[d4].left+";")}}function dx(){if(dl(dZ)){var d4=dR();dZ.setAttribute("style","top: "+dG[d4].top+";right:"+dG[d4].right+";bottom:"+dG[d4].bottom+";left:"+dG[d4].left+";border-top-color:"+dG[d4]["border-top-color"]+";border-right-color:"+dG[d4]["border-right-color"]+";border-bottom-color:"+dG[d4]["border-bottom-color"]+";border-left-color:"+dG[d4]["border-left-color"]+";")
}}function dV(){dO();dF();dS();dx()}function dA(){var d5=bW.decode(bQ.get(cx));if(d5){dT("appending multiwidget pulsator");var d4=z.createElement("div");d4.innerHTML=d5;dB=d4.childNodes.item(0);z.body.appendChild(dB);dK();dI();dn();dV();d3()}}function dW(){dT("activated");dA()}c7=dN;b6(dW)},onlineChat:function(){var d9="iframe-module-created",dp="iframe-online-chat-opened",dt="iframe-online-chat-invite-message",eb="roistat-online-chat-init",ev="roistat-online-chat-reload",ei="roistat-online-chat-update-custom-params",ef="roistat-online-chat-translate-form",el="roistat_chat_id",eu="roistat_chat_session",ea="roistat_chat_custom_position",dB,dv,em,dw,ej,d3,dH,d2;var dY="roistat-online-chat-popup-iframe",dK="roistat-online-chat-hidden",en="roistat-online-chat-popup-wrapper",d1="roistat-online-chat-popup-wrapper-hidden",dI="roistat-online-chat-popup-mouse-track",dW="roistat-online-chat-popup-mouse-track-active",dM="roistat-online-chat-pulsator-fill",ek="roistat-online-chat-pulsator-img",dR="roistat-online-chat-pulsator-phone",dE="roistat-online-chat-pulsator-fill-svg",dA=".roistat-multiwidget-pulsator-items-popup",dy=".roistat-online-chat-pulsator-phone",dU=".roistat-online-chat-popup-wrapper";var dJ=false,dL=false,d5=0,dr=0;var dZ=db()?".roistat-multiwidget-pulsator-holder":".roistat-online-chat-holder";var eq;var d0={topLeft:{top:"130px",right:"unset",bottom:"unset",left:"30px"},topRight:{top:"130px",right:"30px",bottom:"unset",left:"unset"},bottomRight:{top:"unset",right:"30px",bottom:"130px",left:"unset"},bottomLeft:{top:"unset",right:"unset",bottom:"130px",left:"30px"}};var eo={topLeft:{top:"unset",bottom:"0",height:"20px"},topRight:{top:"unset",bottom:"0",height:"20px"},bottomLeft:{top:"0",bottom:"unset",height:"50px"},bottomRight:{top:"0",bottom:"unset",height:"50px"}};var d8=function(ex){s("onlineChat: "+ex)};var dF=function(){function ex(){return Math.random().toString(36).substr(2,8)}return ex()+ex()+ex()+ex()};var dx=function(){var ex=bQ.get(eu);if(!ex){ex=dF();bQ.set(eu,ex)}return ex};var dq=function(){var ex={message:d9,detail:{version:M,language:p,projectKey:aN(),visitId:b8(),chatId:i(el),moduleTargetOrigin:bT.location.origin,referrer:bT.location.href,params:dg,sessionUniqueKey:dx()}};ej.contentWindow.postMessage(ex,ej.src)};var dC=function(){var ex={message:dp,detail:{isOpened:ep()}};ej.contentWindow.postMessage(ex,ej.src)};var dD=function(){var ex={message:ei,detail:{params:dg}};ej.contentWindow.postMessage(ex,ej.src)};var dm=function(){var ex={language:p,message:ef};ej.contentWindow.postMessage(ex,ej.src)};var eg=function(){W(bT,"message",function ex(eA){var ez=typeof eA.data==="string"?eA.data:eA.data.message;var ey=typeof eA.data!=="string"?eA.data.detail:{};d8("event: "+ez+" "+JSON.stringify(ey));switch(ez){case d9:dq();break;case eb:d8("saving chat id = "+ey.chatId);cM(el,ey.chatId,{path:"/"});break;case dt:d8("rendering invite message");ec(ey.message);break}})};var dN=function(){var ey=bT.roistat.onlineChat.notificationsCustomHolderSelector;var ex=ey!==null;return z.querySelector(ex?ey:dZ)};var ec=function(eE){if(ep()){return}var ez="<div class='roistat-online-chat-message'><img src='"+eE.operator.avatar+"' class='roistat-online-chat-message-avatar'></img><div class='roistat-online-chat-message-content'><div class='roistat-online-chat-message-name'><span class='roistat-online-chat-message-name-text'>"+eE.operator.name+"</span><div class='roistat-online-chat-message-name-online-status'></div></div><div class='roistat-online-chat-message-text'>"+eE.text+"</div></div><div class='roistat-online-chat-message-close'></div></div>";var eD=z.createElement("div");eD.innerHTML=ez;var eC=dN();if(dl(eC)){var eF=d4()?"beforeend":"afterbegin";eC.insertAdjacentHTML(eF,ez);var eB=eC.getElementsByClassName("roistat-online-chat-message-close");var ex=eC.getElementsByClassName("roistat-online-chat-message");var eA=eB[d4()?eB.length-1:0];var ey=ex[d4()?eB.length-1:0]}setTimeout(function(){ey.remove()},15000);dk(ey,"click",function(eG){eG.stopPropagation();if(!ep()){ee()}er()});dk(eA,"click",function(eG){eG.stopPropagation();ey.remove()})};var er=function(){var ey=dN();if(dl(ey)){var ex=ey.getElementsByClassName("roistat-online-chat-message");while(ex.length>0){ex[0].remove()}}};var et=function(){ej=z.getElementById(dY);if(dl(ej)){dk(ej,"load",function(){dX()})}dk(z,"click",function(ey){var ex=bT.roistat.onlineChat.customTriggerSelector;if(ep()&&(ey.target.closest(dA)===null&&ey.target.closest(dU)===null&&ey.target.closest(dy)===null&&(ex?ey.target.closest(ex)===null:true))){ee()}})};var dn=function(ez){var ey=em.getBoundingClientRect().x;var ex=em.getBoundingClientRect().y;dL=true;ds();d5=ez.pageX-ey;if(d4()){dr=ez.pageY+ex}else{dr=ez.pageY-ex}};var dQ=function(){dL=false;ed();dG()};var ds=function(){if(dl(dv)){dv.classList.add(dW)}};var ed=function(){if(dl(dv)){dv.classList.remove(dW)}};var d6=function(eF){if(dL&&dl(em)){var ex=em.getBoundingClientRect();var eE=ex.width;var eD=400;var ey=50;var eI=0;var eA=bT.innerHeight-eD;
var eG=eF.pageX-d5;var eC=ey;var ez=bT.innerWidth-ey-eE;if(d4()){eI=bT.innerHeight-(eF.pageY+ex.y)-20}else{eI=eF.pageY-dr}var eH=es();var eB=eH==="bottomLeft"||eH==="bottomRight"?"top":"bottom";if(eG>=eC&&eG<=ez){em.style.left=eG+"px";if(!ew()){em.style.right="unset"}}if(eI>=50&&eI<=eA){em.style[eB]=eI+"px"}}};var dG=function(){var ex={position:es(),top:em.style.top,left:em.style.left,bottom:em.style.bottom,right:em.style.right};bQ.setObject(ea,ex)};var es=function(){var ex=bQ.getObject(e);var ey=typeof ex.position==="string"&&ex.position!==""&&db();return ey?ex.position:"bottomRight"};var d4=function(){var ex=es();return ex==="topLeft"||ex==="topRight"};var ew=function(){var ex=es();return ex==="topLeft"||ex==="bottomLeft"};var du=function(){var ex=es();var eA=bT.roistat.onlineChat.customPosition;var ey=eA&&eA.top!==null?eA.top:d0[ex].top;var eB=eA&&eA.right!==null?eA.right:d0[ex].right;var eC=eA&&eA.bottom!==null?eA.bottom:d0[ex].bottom;var ez=eA&&eA.left!==null?eA.left:d0[ex].left;em=de(dB,en);if(dl(em)){em.classList.toggle(d1);em.setAttribute("style","top: "+ey+";right:"+eB+";bottom:"+eC+";left:"+ez+";")}};var dP=function(){if(dl(dv)){var ex=es();dv.setAttribute("style","top: "+eo[ex].top+";bottom:"+eo[ex].bottom+";height:"+eo[ex].height+";")}};var dT=function(){d8("iframe appending to page");var ex=bW.decode(bQ.get(w));dB=z.createElement("div");dB.innerHTML=ex;z.body.appendChild(dB);dv=de(z,dI);du();et()};var dV=function(){var ey=bQ.getObject(e);d8("start filling pulsator");if(ey){if(dl(d3)){d3.setAttribute("style","background: "+ey.button_color+";")}if(dl(dH)){dH.setAttribute("style","fill: "+ey.icon_color+";")}if(Array.isArray(d2)){for(var ex=0;ex<d2.length;ex++){d2[ex].setAttribute("style","fill: "+ey.button_color+";")}}}};var eh=function(){var ey=bW.decode(bQ.get(a8));var ez=(ey&&!db())||bT.roistatOnlineChatOnly;if(ez){d8("pulsator appending to page");var ex=z.createElement("div");ex.innerHTML=ey;eq=ex.childNodes.item(0);d3=de(eq,dM);dH=de(eq,ek);dw=de(eq,dR);d2=z.getElementsByClassName(dE);z.body.appendChild(eq);dz();dV()}};var dz=function(){if(dl(eq)){dk(eq,"click",function(){ee()})}};var ep=function(){return dl(em)&&!em.classList.contains(d1)};var ee=function(){setTimeout(function(){dL=false},3000);if(dl(em)){em.classList.toggle(d1)}if(ep()){er()}dC()};var dS=function(ex){p=ex;if(!dl(ej)){return}dm()};var dX=function(){dJ=true;bT.roistatOnlineChatShow=ee;d8("chat window initialized")};function dO(ex){c0(ex);dD()}function d7(){eh();dT();eg()}bT.setRoistatOnlineChatCustomParams=dO;bT.roistat.onlineChat.localization.translateToRussian=function(){dS(by)};bT.roistat.onlineChat.localization.translateToEnglish=function(){dS(cQ)};b6(d7)}};function dd(dm){s("Widgets: "+dm)}function cY(dm){return dm!==dj}function c0(dp){var dn=Object.keys(dp);for(var dm=0;dm<dn.length;dm++){dg[dn[dm]]=dp[dn[dm]]}}function db(){var dq=Number(bQ.get(bm)),dp=Number(bQ.get(aT)),dr=Number(bQ.get(ch)),ds=Number(bQ.get(bD)),dt=Number(bQ.get(H)),du=Number(bQ.get(b7)),dn=dq&&!dr&&!ds&&!dt&&!du,dm=dr&&!dq&&!ds&&!dt&&!du;return dp&&!dm&&!dn&&!bT.roistatOnlineChatOnly}function c7(){dd("Multiwidget disabled. Hide leadhunter pulsator from module")}function c2(dm,dp,dn){bQ.set(bB,bW.encode(dm));bQ.set(bc,bW.encode(dp));bQ.setObject(bA,dn)}function c6(dn,dm){bQ.set(cx,bW.encode(dn));bQ.setObject(e,dm)}function c5(dp,dm,dn){bQ.set(a8,bW.encode(dp));bQ.set(w,bW.encode(dm));bQ.set(ch,dn)}function c9(dm,dp,dn){c2(dm,dp,dn);bQ.set(cx,bW.encode(dj));bQ.set(w,bW.encode(dj));dc=false;dh.leadHunter()}function c1(dy,du,ds){var dp=dy.form_template,dz=dy.pulsator_template,dr=dy.pulsator_settings;if(da()){c9(dp,dz,dr);return}dd("start initing widgets");var dv=ds.pulsator_template,dq=ds.iframe_template,dx=du.pulsator_template,dm=du.pulsator_settings,dt=Number(bQ.get(bm)),dn=Number(ds.settings.is_enabled),dw=bQ.getObject(n)!==null;c2(dp,dz,dr);c6(dx,dm);c5(dv,dq,dn);if(dw){bQ.set(bB,bW.encode(c3()))}dc=true;if(dt&&!bT.roistatOnlineChatOnly){dd("leadhunter enabled. Start processing");dh.leadHunter()}if(dn){dd("online chat enabled. Start processing");dh.onlineChat()}if(db()){dd("multiwidget enabled. Start processing");dh.multiwidget()}}var c3=function(){var dm=aS()+"//"+t+"/api/site/1.0/"+aN()+"/leadhunter/script/"+bQ.get(aE)+"/widget";return'<div class="roistat-lh-popup-wrapper" data-is-iframe="1"><iframe id="roistat-lh-popup-iframe" class="roistat-lh-popup-iframe" src="'+dm+'" frameborder="0"></iframe></div>'};function di(){var dp=bQ.get(bB),dz=bQ.get(bc),dr=bQ.getObject(bA),du=bQ.get(a8),dq=bQ.get(w),dn=bQ.get(ch),dw=bQ.get(cx),dm=bQ.getObject(e);bT.roistatLeadhunterForm=c9;bT.roistatMultiwidget=c1;if(!dp||!dz||!dr||!dw||!dm||!du){dd("requesting data from server");aF(aS()+"//"+t+"/api/site/"+X+"/"+aN()+"/multiwidget?domain="+encodeURIComponent(z.domain))}else{var dy=bW.decode(dw);var dv=bW.decode(dq);if((!cY(dy)||!cY(dv)||da())&&!bT.roistatOnlineChatOnly){dd("initing LeadHunter form");bT.roistatLeadhunterForm(bW.decode(dp),bW.decode(dz),dr)}else{dd("initing multiwidget form");
var ds={pulsator_template:dy,pulsator_settings:dm},dt={form_template:bW.decode(dp),pulsator_template:bW.decode(dz),pulsator_settings:dr},dx={iframe_template:dv,pulsator_template:bW.decode(du),settings:{is_enabled:Number(dn),},};bT.roistatMultiwidget(dt,ds,dx)}}}function da(){var dn=aN()==="86ee03e4ba0f978620d7a0ee0e2e51dc"||aN()==="4",dm=bT.location.host==="cloud.roistat.com"&&bT.location.pathname!=="/user/login"&&bT.location.pathname!=="/user/register";if((dn&&!dm)||(aN()==="489852fc24e99416c9e7336f08ba22dc"&&bT.location.host==="q92571df.beget.tech")){dd("Current project is Roistat but page is not cloud.roistat.com. Drop init multiwidget");return true}return false}function c8(){di();dd("Widgets: form initialized")}function df(){dd("activated");c8()}b6(df);bT.setRoistatOnlineChatCustomParams=c0;bT.roistatSaveLeadHunterTemplates=c2;bT.roistatSaveMultiwidgetTemplate=c6;bT.roistatSaveOnlineChatTemplate=c5})();(function r(){var db=function(){return i(cT)};var c9=function(){return bQ.get(a1)};var c2=function(){return bQ.get(be)};var df=function(dh){return dh!=null&&dh!==bl&&dh!==""};var de=function(){var dh=[];var di=z.getElementsByClassName(ae);if(di&&di.length){dh=di}return dh};var c0=function(){var dh=[];var di=z.getElementsByClassName(y);if(di&&di.length){dh=di}return dh};var cZ=function(){var dh=[];var di=z.getElementsByClassName(Z);if(di&&di.length){dh=di}return dh};var c4=function(){var dh=[];var di=z.getElementsByClassName(B);if(di&&di.length){dh=di}return dh};var c7=function(){var dh=[];var di=z.getElementsByClassName(cL);if(di&&di.length){dh=di}return dh};var cY=function(dv,di){s("CallTracking: RenderPhone phone = "+dv);var dn=function(dx){return dx.split(/[^0-9]/).join("")};var dp=function(dA,dC){var dF=null;if(!dA){return dF}var dx=dC.split(",");if(dx.length<2){dF=dC}else{var dy=dA.getAttribute("data-prefix");if(dy){for(var dB=0;dB<dx.length;dB++){var dD=dx[dB];var dE=dn(dD);if(dE.indexOf("8")===0){dE="7"+dE.substring(1)}var dz=dE.split(dy)[0]==="";if(dz){dF=dD;break}}}if(dF===null){dF=dx[0]}s("CallTracking._getPhoneForElement: Prepared phone = "+dF+" for data-prefix = "+dy)}return dF};var dl=function(dB,dz){var dx=dp(dB,dz);if(!dx||!dB){return}if(dB.tagName.toLowerCase()!=="a"){return}var dA=dB.getAttribute("href");if(cA(dA,"tel:")){var dy=dn(dx);if(dy.indexOf("8")===0){dy="7"+dy.substring(1)}dB.setAttribute("href","tel:+"+dy);dm(dB,dx)}};var dm=function(dy,dx){if(!dy.hasAttribute("title")){return}dy.setAttribute("title",dx)};var dr=function(dz,dy){var dx=dp(dz,dy);if(!dx||!dz){return}dz.innerHTML=dx};var dw=function(dx){var dy=de();s("CallTracking: render phone default classes for "+dy.length+" elements");q(dy,function(dz){dr(dz,dx);dl(dz,dx)});q(c0(),function(dA){var dz=dn(dp(dA,dx)).slice(0,1);dr(dA,dz)});q(cZ(),function(dA){var dB=dp(dA,dx).match(/\((.*)\)/);if(dB!==null){var dz=dB[1];dr(dA,dz)}});q(c4(),function(dB){var dz=dp(dB,dx).match(/\)(.*)/);if(dz!==null){var dC=dn(dz[1]);var dA=dC.slice(-1*dC.length,-4)+"-"+dC.slice(-4,-2)+"-"+dC.slice(-2);dr(dB,dA)}});q(c7(),function(dz){dl(dz,dx)})};var du=function(dx,dC){if(!dC){return}s("CallTracking: render phone user replacement for "+dC.length+" replacements");for(var dB=0;dB<dC.length;dB++){var dE=dC[dB];if(!dE){continue}var dz=dE[0];dE=dE.substr(1);var dD=[];if(dz==="#"){var dA=z.getElementById(dE);if(dA!==null){dD.push(dA)}}else{dD=z.getElementsByClassName(dE);dk(dE,dx)}if(!dD||dD.length<1){continue}s("CallTracking: render phone for "+dE+", "+dD.length+" elements");for(var dy=0;dy<dD.length;dy++){dr(dD[dy],dx);dl(dD[dy],dx)}}};var dq=function(dx){for(var dy=0;dy<dx.length;dy++){du(dx[dy].phone,dx[dy].css_selectors);dt(dx[dy].phone,dx[dy].replaceable_numbers)}};var dt=function(dz,dy){if(!dy||dy.length===0){return}var dx=function(){var dK=dD();var dJ=z.getElementsByTagName("*");var dE=dJ.length;for(var dI=0;dI<dE;dI++){var dL=dJ[dI];dA(dL,dK,dp(dL,dz));var dH=dL.childNodes.length;for(var dF=0;dF<dH;dF++){var dG=dL.childNodes[dF];dC(dG,dK,dp(dG,dz))}}};var dA=function(dI,dH,dE){if(!dB(dI)){return}var dJ=dI.getAttribute("href").replace("tel:","");var dG=dH.length;for(var dF=0;dF<dG;dF++){if(dH[dF].test(dJ)){dl(dI,dp(dI,dE))}}};var dB=function(dF){if(dF.tagName.toLowerCase()!=="a"){return false}var dE=dF.getAttribute("href");return aJ(dE)&&dE.indexOf("tel:")===0};var dD=function(){var dG=[];for(var dE=0;dE<dy.length;dE++){var dF="[\\s()[\\]{}\\-+.]*";var dH=dy[dE].split("").join(dF);dG.push(new RegExp("[+(]?"+dH,"g"))}return dG};var dC=function(dH,dG,dE){if(dH.nodeType!==Node.TEXT_NODE){return}for(var dF=0;dF<dG.length;dF++){if(dH.textContent&&dG[dF].test(dH.textContent)){dH.textContent=dH.textContent.replace(dG[dF],dE)}else{if(dH.innerText&&dG[dF].test(dH.innerText)){dH.innerText=dH.innerText.replace(dG[dF],dE)}}}};dx()};var dk=function(dy,dx){q(dj(dy+"-"+bs),function(dA){var dz=dn(dp(dA,dx)).slice(0,1);dr(dA,dz)});q(dj(dy+"-"+az),function(dA){var dB=dp(dA,dx).match(/\((.*)\)/);if(dB!==null){var dz=dB[1];dr(dA,dz)}});q(dj(dy+"-"+a0),function(dB){var dz=dp(dB,dx).match(/\)(.*)/);
if(dz!==null){var dC=dn(dz[1]);var dA=dC.slice(-1*dC.length,-4)+"-"+dC.slice(-4,-2)+"-"+dC.slice(-2);dr(dB,dA)}});q(dj(dy+"-"+bG),function(dz){dl(dz,dx)})};var dj=function(dy){var dx=[];var dz=z.getElementsByClassName(dy);if(dz&&dz.length){dx=dz}return dx};var ds=function ds(){var dy=c2();if(dy){dy=dy.split("\n");for(var dx=0;dx<dy.length;dx++){dy[dx]="."+dy[dx]}}if(di instanceof Array){dq(di)}else{dw(dv);du(dv,dy)}};(function dh(){ds();var dx=[300,5000,15000];dx.forEach(function(dy){setTimeout(ds,dy)})})()};var c1=function(dh){bQ.save(l,dh,co)};var da=function(){if(bT.roistat.callTracking.phone){var dh={expires:parseInt(bT.roistat.callTracking.sessionTime),path:"/"};if(co.domain){dh.domain=co.domain}cM(cT,bT.roistat.callTracking.phone,dh);c1(1);bQ.save(be,bT.roistat.callTracking.replacementClasses,co);bQ.save(a1,bT.roistat.callTracking.phoneScriptsJson,co)}};var c8=function(dh,dl,dj,di){s("CallTracking: reuse phone "+dh+" for time "+dl+" and replacements "+dj);if(!df(dh)){s("CallTracking: new phone is invalid");roistat.callTracking.phone=null;cE();return}roistat.callTracking.enabled=1;roistat.callTracking.phone=dh;roistat.callTracking.sessionTime=dl;roistat.callTracking.replacementClasses=dj;roistat.callTracking.phoneScriptsJson=di;cE();da();var dm={expires:parseInt(dl),path:"/"};if(co.domain){dm.domain=co.domain}cM(cT,dh,dm);bQ.save(a1,di,co);bQ.save(be,dj,co);var dk=cI(di);if(dk==null){cY(dh)}else{cY(dh,dk)}};var c3=function(){s("CallTracking: request new phone");var dh=i(bL);var dl=ab();var dk=dl?dl:bf;var dj=encodeURIComponent(b4);var di=F()+"/get-phone?visit="+dh+"&marker="+(dk?dk:"")+"&prefix="+cd+"&prefix_bind="+cU+"&phone_scripts_bind="+I+"&page="+dj;aF(di)};var c5=function(){cd=bT.roistatPhonePrefix?bT.roistatPhonePrefix:"";cU=bT.roistatPhonePrefixBind?bT.roistatPhonePrefixBind:"";I=bT.roistatCalltrackingScripts&&bT.roistatCalltrackingScripts.join?bT.roistatCalltrackingScripts.join(","):"";s("CallTracking: refresh phone with prefix: "+cd+", binding: "+cU+", scripts: "+I);c3()};var dg=function(){var dh=bQ.get(l)>0;var di=bC.callTrackingEnabled;return dh&&di};var c6=function(dh){c1(dh.is_enabled)};var dd=function dd(){var dh=db();if(!df(dh)){s("CallTracking: invalid phone "+dh+", requesting a new one");c3()}else{s("CallTracking: render phone "+dh);var di=cI(c9());if(di==null){cY(dh)}else{cY(dh,di)}}};var dc=function(){s("CallTracking: init");if(bT.roistatOnlineChatOnly){s("CallTracking: Shut down because only online chat need to be inited");return}da();if(!dg()){s("CallTracking: disabled, skip");return}if(bC.callTrackingManual){s("CallTracking: init finish because off manual");return}dd();ak(dd)};bT.roistatCallTrackingRefresh=c5;bT.roistatRequestNewPhone=c3;bT.roistatReusePhone=c8;bT.roistatCalltrackingUpdateSettings=c6;b6(dc)})();(function x(){var c0=function(c6){s("Emailtracking: "+c6)};var c4=function(c6,c8,c7){bQ.save(bd,c6,co);bQ.save(b,c8,co);bQ.save(bp,JSON.stringify(c7),co)};var cZ=function(){var c6=(bT.roistat.emailtracking.email&&bT.roistat.emailtracking.trackingEmail)||aA(bT.roistat.emailtracking.emails);if(bT.roistat.emailtracking.loaded&&c6){c0("save loaded email: "+bT.roistat.emailtracking.email);c4(bT.roistat.emailtracking.email,bT.roistat.emailtracking.trackingEmail,bT.roistat.emailtracking.emails)}else{c0("settings save skip, because not loaded");bT.roistat.emailtracking.email=bQ.get(bd);bT.roistat.emailtracking.email=bT.roistat.emailtracking.email?bT.roistat.emailtracking.email:null;bT.roistat.emailtracking.email=bT.roistat.emailtracking.email==="null"?null:bT.roistat.emailtracking.email;c0("email loaded from storage: "+bT.roistat.emailtracking.email);bT.roistat.emailtracking.trackingEmail=bQ.get(b);bT.roistat.emailtracking.trackingEmail=bT.roistat.emailtracking.trackingEmail?bT.roistat.emailtracking.trackingEmail:null;bT.roistat.emailtracking.trackingEmail=bT.roistat.emailtracking.trackingEmail==="null"?null:bT.roistat.emailtracking.trackingEmail;c0("tracking email loaded from storage: "+bT.roistat.emailtracking.trackingEmail);bT.roistat.emailtracking.emails=cI(bQ.get(bp));bT.roistat.emailtracking.emails=bT.roistat.emailtracking.emails?bT.roistat.emailtracking.emails:null;c0("emails loaded from storage: "+JSON.stringify(bT.roistat.emailtracking.emails))}};var c2=function(c6){c4(c6.email,c6.trackingEmail,c6.emails)};var c1=function(){var c6=(!!bT.roistat.emailtracking.email&&!!bT.roistat.emailtracking.trackingEmail)||aA(bT.roistat.emailtracking.emails);return bT.roistat.emailtracking.enabled&&c6};var cY=function(){if(!c1()){c0("emailtracking disabled, skip swapping");return}var c7=function(dc,dd,db){if(dc.href){var da=ap(dc.href);if(dd.test(da)){dc.href=da.replace(dd,db);return true}}if(dc.nodeType!==3){return false}if(dc.textContent&&dd.test(dc.textContent)){dc.textContent=dc.textContent.replace(dd,db);return true}else{if(dc.innerText&&dd.test(dc.innerText)){dc.innerText=dc.innerText.replace(dd,db);return true}}return false};var c6=function(da){return da.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")
};var c8=function(dc,db){var da=!db.match(/[a-z]/);return da?dc.toUpperCase():dc};var c9=function(di,dk){var dl=c6(di);var dc=new RegExp("(^|\\s)(mailto:)?("+dl+")($|\\s|\\?)","gi");var dm=function(ds,dq,dn,dp,dr){dn=dn||"";return dq+dn+c8(dk,dp)+dr};c0("starting to replace email "+di+" to "+dk+" with regexp "+dc);var db=z.getElementsByTagName("*");var de=db.length;c0("found "+de+" nodes on page");var dh=0;for(var dg=0;dg<de;dg++){var dd=db[dg];var dj=dd.childNodes.length;if(dj>0){for(var df=0;df<dj;df++){var da=dd.childNodes[df];if(c7(da,dc,dm)){dh++}}}if(c7(dd,dc,dm)){dh++}}c0("successfully replaced "+dh+" nodes")};if(bT.roistat.emailtracking.emails){a4(bT.roistat.emailtracking.emails,c9)}else{c9(bT.roistat.emailtracking.email,bT.roistat.emailtracking.trackingEmail)}};var c3=function(){c0("process email swap");cY();setTimeout(function(){cY()},300);setTimeout(function(){cY()},5000);setTimeout(function(){cY()},15000)};var c5=function(){c0("init");if(bT.roistatOnlineChatOnly){c0("Shut down because only online chat need to be inited");return}ak(c3);cZ();c3()};bT.roistatEmailtrackingUpdateSettings=c2;bT.roistat.emailtracking.refresh=cY;b6(c5)})();(function a6(){var c1=function(c3){s("MultiDomain: "+c3)};var c0=function(){return bQ.get(cq)>0};var cZ=function(c7){var c8=function(da){if(!da){return false}if(cA(da,"roistat_visit")){return false}var c9=aR(da);var dc=aR(z.domain);var db=new RegExp(/^((https?:)?\/\/)?([A-Z-0-9\_\-\~]+\.)+[A-Z-0-9\_\-\~]+/i);return c9!==dc&&db.test(da)};var c6=function(dc){var dd=dc.split("#");var db=dd[0].split("?");var c9="";var da="";if(db.length===2){c9=db[1]}if(c9){da="&"}c9=c9+da+"roistat_visit="+roistat.getVisit();db[1]=c9;dd[0]=db.join("?");return dd.join("#")};if(c7.tagName.toLowerCase()!=="a"){return}var c5=c7.getAttribute("href");var c4=false;if(c8(c5)){var c3=c6(c5);c1("update url "+c5+" > "+c3);c7.setAttribute("href",c3);c4=true}return c4};var cY=function(){if(!c0()){c1("disabled, skip");return}var c3=z.getElementsByTagName("a");var c4=c3.length;c1("found "+c4+" <a> nodes on page");var c7=0;for(var c5=0;c5<c4;c5++){var c6=c3[c5];if(cZ(c6)){c7++}}c1("replaced "+c7+" nodes")};var c2=function(){c1("init");if(bT.roistatOnlineChatOnly){c1("Shut down because only online chat need to be inited");return}cY();setTimeout(function(){cY()},300);setTimeout(function(){cY()},5000);setTimeout(function(){cY()},15000)};b6(c2)})();(function cz(){var cY=60*1000;var c5=2*60*1000;var cZ=function(c7){s("SettingsUpdater: "+c7)};var c3=function(){bQ.set(Q,bU())};var c4=function(){var c8=cF();var c7=!(c8>0);cZ("is first update check: lastUpdateTime="+c8+", result="+(c7?1:0));return c7};var c6=function(){var c9=bU()-c5;var c8=cF();var c7=c8<=c9;cZ("expiration check: _minTime="+c9+", lastUpdateTime="+c8+", result="+(c7?1:0));return c7};var c0=function(c8){var c7=i(bL);a(c7,c8)};var c1=function(c8){cZ("update settings and save last update time");var c7=bQ.getObject(n)!==null;if(c7){bQ.set(n,c8.js_settings.leadHunterTargetPagesMap)}bT.roistatCalltrackingUpdateSettings(c8.calltracking);bT.roistatEmailtrackingUpdateSettings(c8.emailtracking);bT.roistatSaveLeadHunterTemplates(c8.leadhunter_templates.form_template,c8.leadhunter_templates.pulsator_template,c8.leadhunter_templates.pulsator_settings);bT.roistatSaveMultiwidgetTemplate(c8.multiwidget_templates.pulsator_template,c8.multiwidget.pulsator_settings);bT.roistatSaveOnlineChatTemplate(c8.online_chat_templates.pulsator_template,c8.online_chat_templates.iframe_template);bT.roistatSaveProxyFormSettings(c8.proxy_forms);aU(c8.js_settings);cp(c8.multiwidget.multiwidget_settings);if(Number(bQ.get(ch))!==Number(c8.online_chat.is_enabled)){bQ.set(ch,Number(c8.online_chat.is_enabled))}bN.isSettingsUpdating=false;c3()};var c2=function(){cZ("init");if(c4()){cZ("in first update we just start first timer and skip");c3();return}if(!c6()){cZ("update is not not expired, skip");return}cZ("start to update settings");c0()};b6(function(){bT.roistatUpdateSettings=c1;setTimeout(function(){c2()},3000);cZ("set interval to update settings");setInterval(function(){c2()},cY)})})();(function bw(c2,cY,c4){var c1={};var cZ=function(c6){var c5=encodeURIComponent?encodeURIComponent:encodeURI;return c5(c6)};var c0=function(dc,c6){s("Reach goal start");if(!dc){dc={}}var c9={leadName:"",formTitle:"",name:"",phone:"",email:"",price:"",text:"",fields:"",client_fields:"",is_need_callback:"",callback_phone:"",visit:b8(),is_skip_sending:0,items:"",placeholders_data:""};for(var c8 in c9){if(!Object.prototype.hasOwnProperty.call(c9,c8)){continue}if(!Object.prototype.hasOwnProperty.call(dc,c8)){continue}if(!dc[c8]){continue}if(c8==="fields"||c8==="client_fields"||c8==="items"||c8==="placeholders_data"){dc[c8]=JSON.stringify(dc[c8])}c9[c8]=cZ(dc[c8])}var db=aN();var da=aS()+"//"+t+"/api/site/"+X+"/"+db+"/reach-goal?v=2";for(var c7 in c9){if(!Object.prototype.hasOwnProperty.call(c9,c7)){continue}da=da+"&"+c7+"="+c9[c7]}if(c6!==c4){var c5=Math.random().toString();c1[c5]=c6;da+="&callback_key="+c5
}aF(da);s("Reach goal completed")};var c3=c2.roistatGoal={reach:function(c6,c5){c0(c6,c5)},callAfterReachCallback:function(c5){if(Object.prototype.hasOwnProperty.call(c1,c5)){c1[c5]();delete c1[c5]}}}})(bT,z,bl);(function cO(c0,cY,c1){var cZ=function(c6){if(c6 instanceof Array||c6===null||typeof c6!=="object"){s("Invalid event data");return""}var c3=[];for(var c5 in c6){if(Object.prototype.hasOwnProperty.call(c6,c5)){var c4=c6[c5];if(typeof c4==="string"||typeof c4==="number"){c3.push("data["+encodeURIComponent(c5)+"]="+encodeURIComponent(c4))}else{s("Event data property ignored: "+c5)}}}return c3.length>0?"&"+c3.join("&"):""};var c2=function(c5,c6){s("Send event start");var c3=m();var c4=F()+"/event/register?visit="+c3+"&event="+c5+cZ(c6);aF(c4);s("Send event completed")};c0.roistat.event={send:function(c3,c4){c2(c3,c4)}}})(bT,z,bl);(function bR(c8,da,c1){if(c8.roistatOnlineChatOnly){s("VisitApprove: Shut down because only online chat need to be inited");return}var db=c8.roistatIsInitVisit===true?20000:10000;var c0=(new Date()).getTime();var cZ=function(df){return"approve_visit_"+df};var c7=function(df){bI.set(cZ(df),1)};var dc=function(df){return bI.get(cZ(df))>0};var cY,c3,de=[];if(da.addEventListener){cY=function(dg,df,dh){return dg.addEventListener(df,dh,false)};c3=function(dg,df,dh){return dg.removeEventListener(df,dh,false)}}else{cY=function(dg,df,dh){return dg.attachEvent("on"+df,dh)};c3=function(dg,df,dh){return dg.detachEvent("on"+df,dh)}}var c6=function(di){if(de.length>30){return}di=di||c8.event;if(!di||!di.screenX){return}var dh=(new Date()).getTime();var dk,dj=null;if(de.length>0){dj=de[de.length-1]}if(dj){dk=dh-dj.time}else{dk=dh-c0}if(dk<300){return}dk=dk-300;var dm=0;var df=di.screenX;var dl=di.screenY;if(dj){dm=parseInt(Math.sqrt(Math.pow(dj.y-dl,2)+Math.pow(dj.x-df,2)))}var dg={time:dh,pauseBeforeMove:dk,x:df,y:dl,distance:dm};de.push(dg)};var c5=function(){var df=[];q(de,function(dg){var dh=[dg.pauseBeforeMove,dg.distance];df.push(dh.join(":"))});if(df.length===0){df.push("0:0")}return df.join("|")};var c2=function(){for(var df in c8){if(cA(df,"yaCounter")){return true}}return false};var c9=function(){c3(da,"mousemove",c6);var df=m();s("VisitApprove: start for visit "+df);if(dc(df)){s("VisitApprove: visit already approved, skip");return}c7(df);an();var dg=F()+"/approve?v="+M+"&visit="+df;if(dd()){dg+="&hash="+ag()}if(c4()){dg+="&page_params="+encodeURIComponent(JSON.stringify(c8.roistat.page.params));f()}dg+="&mv="+c5();dg+="&pl="+(c8.navigator?c8.navigator.platform:"");dg+="&ym="+(c2()?"1":"0");aF(dg)};var dd=function(){var dj=bN.cookies,di=k();var dl=aX();for(var dg=0;dg<dl.length;dg++){var dk=dl[dg];var dm=Object.prototype.hasOwnProperty.call(dj,dk)?dj[dk]:c1;var df=Object.prototype.hasOwnProperty.call(di,dk)?di[dk]:c1;var dh=typeof df==="string"&&df.length>0;if(dh&&dm!==df){return true}}return false};var c4=function(){var dk=bN.pageParams,dh=c8.roistat.page.params;for(var dg=0;dg<ce.length;dg++){var df=ce[dg];var di=Object.prototype.hasOwnProperty.call(dk,df)?dk[df]:null;var dj=Object.prototype.hasOwnProperty.call(dh,df)?dh[df]:null;if(dj!==di){return true}}return false};setTimeout(function(){c9()},db);cY(da,"mousemove",c6)})(bT,z,bl);(function al(c3,c4,cZ){var c1=function(){return P("roistat_ab_demo")==="1"};var c5=function(c8){return new RegExp(c8.split(".").join("\\.").split("*").join(".*").split("?").join("."))};var c2=function(dd){var c8=c3.location.href,db=dd.filter,dh=dd.filterValue;var de;switch(db){case"except":case"pages":var c9,dg,df=false;dg=c8?ax(c8):"";de=dh?dh.split("\n"):[];if(dg&&de.length!==0){for(var da=0;da<de.length;da++){var dc=de[da].trim();if(dc.length===0){continue}c9=c5(dc);if(c9.test(dg)){df=true;break}}}return(db==="pages")?df:!df;break;case"all":default:return true}};var cY=function(da){var c8=c4.getElementsByTagName("head")[0],c9;c9=c4.createElement("style");c9.setAttribute("type","text/css");if(c9.styleSheet){c9.styleSheet.cssText=da.value}else{c9.innerText=da.value}c8.appendChild(c9)};var c0=function(c8){if(c2(c8)){switch(c8.type){case"css":cY(c8);break}}};c3.applyTests=function(){var c8=bQ.getObject("abTesting");var da,c9;for(da in c8){if(!Object.prototype.hasOwnProperty.call(c8,da)){continue}c9=c8[da];c0(c9)}};var c6=function(){s("Call: apply demo AB test");var c8=P("roistat_ab_data");var c9;if(c8===null){return}else{c9=JSON.parse(bW.decode(c8))}if(typeof c9!=="object"){s("Error: testValue is not an object.");return}c0(c9)};function c7(){if(c3.roistatOnlineChatOnly){s("ABTest: Shut down because only online chat need to be inited");return}var c8=c1();if(!cv&&!c8){applyTests()}if(c8){c6()}}c7()})(bT,z,bl);(function aV(cZ,cY,c0){if(cZ.roistatOnlineChatOnly){s("visitStreamNew: Shut down because only online chat need to be inited");return}if(!cy){return}setTimeout(function(){(function(c7,c6,da,c9,c4,c2,c5){c7[c4]={COUNTER_ID:c2,HOST:c5};var c3=c6.location.protocol=="https:"?"https://":"http://";var c1=c6.createElement(da);c1.async=1;c1.src=c3+c5+c9;var c8=c6.getElementsByTagName(da)[0];
c8.parentNode.insertBefore(c1,c8)})(cZ,cY,"script","/counter.js","datamap",aN(),cy)},1000)})(bT,z,bl);(function bP(c0,cY,c1){var c2=function(){var c3=c0.roistatMetrikaCounterId;if(c3){bQ.set(aH,c3)}};var cZ=function(c8){var c3="yaCounter"+c8;var c7=100,c5=0,c6=60000;var c4=function(){c5+=c7;s("YandexMetrika: trying to access counter "+c8);if(c0[c3]===c1){if(c5<c6){setTimeout(c4,c7);c7*=2}return}var c9={};c9[cl]=m();c0[c3].params(c9);s("YandexMetrika: visit id "+c9[cl]+" sent to counter "+c8)};setTimeout(c4,c7)};b6(function(){c2();var c5=bQ.get(aH);if(!c5){s("YandexMetrika: counter id not found");return}var c4=String(c5).split(",");s("YandexMetrika: counters: "+c4);for(var c3=0;c3<c4.length;c3++){if(c4[c3].trim()===""){continue}cZ(c4[c3])}})})(bT,z,bl);(function ah(c8,dc){var dg=function(dj){s("Proxy Forms: "+dj)};var c5=function(){if(c8.roistat.proxyForms.loaded&&c8.roistat.proxyForms.settings.length>0){dg("save loaded settings");dd(c8.roistat.proxyForms.settings)}else{dg("settings not loaded, getting from storage");c8.roistat.proxyForms.settings=bQ.getObject(cN)||[]}};var dd=function(dj){bQ.setObject(cN,dj)};var c9=function(){dg("init form listener");c1(c8.roistat.proxyForms.settings);cY(c8.roistat.proxyForms.settings)};var di=function(dj){return dj.hasOwnProperty("hosts")&&dj.hasOwnProperty("is_excluding_hosts")&&bb(dj.hosts)&&dj.hosts.length>0};var c3=function(dk){if(!di(dk)){return true}var dl=cG(dk.hosts,aR(c8.location.host));var dj=Boolean(dk.is_excluding_hosts);return dj?!dl:dl};var c0=function(dk){var dj=[];q(dk,function(dl){if(c3(dl)){dj.push(dl)}});return dj};var cY=function(dj){var dl=[];q(dj,function(dm){if(dm.type==="js-button"){dl.push(dm)}});if(dl.length<1){dg("no button settings");return}var dk;if(dc.addEventListener){dk=function(dm){c4(dl,dm,dm.target,c2)};dc.addEventListener("click",dk,true)}else{if(dc.attachEvent){dk=function(){var dm=c8.event;c4(dl,dm,dm.srcElement,c2,true)};dc.attachEvent("onclick",dk)}else{dg("Listener could not be attached")}}};var c1=function(dk){var dj=[];q(dk,function(dm){if(dm.type==="form"){dj.push(dm)}});if(dj.length<1){dg("no form settings");return}if(dc.addEventListener){var dl=function(dm){c4(dj,dm,dm.target,dh)};dc.addEventListener("submit",dl,true)}else{if(dc.attachEvent){setInterval(function(){dj=c0(dj);var dm=dc.getElementsByTagName("form");q(dm,function(dn){if(dn.getAttribute("data-roistat-proxy-form-checked")==="true"){return}dn.setAttribute("data-roistat-proxy-form-checked","true");q(dj,function(dp){if(cZ(dn,dp.selector)){dn.attachEvent("onsubmit",function(){c8.event.returnValue=false;dh(dp,c8.event.srcElement)})}})})},2000)}else{dg("Listener could not be attached")}}};var c4=function(dm,dn,dp,dl,dj){var dq=c0(dm);var dk=null;q(dq,function(dr){if(cZ(dp,dr.selector)){dk=dr}});if(dk===null){dg("No matched settings found for listener");return}dl(dn,dk,dp,dj)};var dh=function(dn,dl,dm,dk){var dj=db(dm,dl);if(!de(dj,dl)){return}dk?dn.returnValue=false:dn.preventDefault();c6(dj,dl,function(){HTMLFormElement.prototype.submit.call(dm)})};var c2=function(dl,dk){var dj=db(null,dk);if(!de(dj,dk)){return}c6(dj,dk)};var c6=function(dj,dm,dp){var dn={};var dl=c7(dm.crm)&&dm.crm.hasOwnProperty("is_enabled");var dk=dl?dm.crm.is_enabled:true;dn.leadName=dm.hasOwnProperty("lead_name")?dm.lead_name:"    "+dm.title;dn.formTitle=dm.title;dn.name=dj.name;dn.phone=dj.phone;dn.email=dj.email;dn.text=dj.comment;dn.fields=dj.fields;dn.placeholders_data=dj.placeholdersData;dn.is_need_callback=dm.is_need_callback>0?1:0;dn.is_skip_sending=!dk;c8.roistatGoal.reach(dn,dp)};var c7=function(dj){return(typeof dj==="number"&&!isNaN(dj))||(typeof dj==="string"&&dj!=="")||(typeof dj==="object"&&dj!==null)||(typeof dj==="boolean"&&dj)||bb(dj)};var de=function(dj,dl){var dk=[],dn=["name","email","phone","comment"];q(dn,function(dp){if(dl.hasOwnProperty(dp)&&dl[dp].required>0){dk.push(dp)}});if(bb(dl.fields)){q(dl.fields,function(dp){if(dp.required>0){dk.push(dp)}})}var dm=true;q(dk,function(dp){if(!dj.hasOwnProperty(dp)||!c7(dj[dp])){dm=false}});return dm};var db=function(dl,dk){var dj={};dj.name=dk.name?da(dl,dk.name.value,dk.name.type):"";dj.phone=dk.phone?da(dl,dk.phone.value,dk.phone.type):"";dj.email=dk.email?da(dl,dk.email.value,dk.email.type):"";dj.comment=dk.comment?da(dl,dk.comment.value,dk.comment.type):"";dj.fields={};dj.placeholdersData={orderPage:b4};if(bb(dk.fields)){q(dk.fields,function(dm){dj.fields[dm.name]=da(dl,dm.value,dm.type)})}return dj};var da=function(dk,dn,dj){switch(dj){case"plain":return dn||"";case"input":var dm=dk.querySelector('input[name="'+dn+'"]');return dm?dm.value:"";case"js":try{return(new Function(dn))()}catch(dl){return""}}};var df=function(){dg("init");if(c8.roistatOnlineChatOnly){dg("Shut down because only online chat need to be inited");return}if(!c8.roistat.proxyForms.enabled){dg("disabled");return}c5();c9()};var cZ=function(dm,dk){if(typeof Element!=="undefined"&&Element.prototype.matches){var dj=dm.matches(dk);if(!dj){return dm.closest(dk)?dm.closest(dk).matches(dk):false
}return dj}else{if(typeof Element!=="undefined"&&Element.prototype.matchesSelector){var dn=dm.matchesSelector(dk);if(!dn){return dm.closest(dk)?dm.closest(dk).matches(dk):false}return dn}else{if(dc.querySelectorAll){var dp=dc.querySelectorAll(dk);for(var dl=0;dl<dp.length;dl++){if(dp[dl]===dm){return true}}return false}}}return false};b6(df);c8.roistatSaveProxyFormSettings=dd})(bT,z);(function E(){if(bT.onRoistatAllModulesLoaded!==bl&&typeof bT.onRoistatAllModulesLoaded==="function"){s("onRoistatAllModulesLoaded: call");bT.onRoistatAllModulesLoaded()}})();(function aO(c5,c8,c2){var cY=function(){return bQ.get(ac)*1>0};var c7=function(de){s("Request listener: "+de)};var dd=/^(8|7|380|45|370|375|1|48|357|44|373|371|49|971|996|995|972|420|33|90|34|55|61|52|60|374|43|41|351)?(\d){9,13}$/g;var c6=/^[^\s]+[@][^\s]+$/g;var c1=["mc.yandex.ru","google-analytics.com","google.ru","google.com","stats.g.doubleclick.net"];var c0=function c0(){c7("listen");if(c5.XMLHttpRequest){XMLHttpRequest.prototype.oldSend=XMLHttpRequest.prototype.send;function dg(dj){var di=this;c9(di.responseURL,dj,function(){di.oldSend(dj)})}XMLHttpRequest.prototype.send=dg}if(c5.ActiveXObject){var df=dh;function dh(dk){var di=new df(dk);var dl={};if(dk.toLowerCase()==="msxml2.xmlhttp"){dl={_ax:di,_status:"fake",responseText:"",responseXml:null,readyState:0,status:0,statusText:0,onReadyStateChange:null};var dj="";dl._onReadyStateChange=function(){var dm=dl;return function(){dm.readyState=dm._ax.readyState;if(dm.readyState===4){dm.responseText=dm._ax.responseText;dm.responseXml=dm._ax.responseXml;dm.status=dm._ax.status;dm.statusText=dm._ax.statusText}if(dm.onReadyStateChange){dm.onReadyStateChange()}}}();dl.open=function(dr,dp,dq,dm,dn){dj=dp;dq=(dq!==false);this._ax.onReadyStateChange=this._onReadyStateChange;return this._ax.open(dr,dp,dq,dm,dn)};dl.send=function(dm){var dn=this;c9(dj,dm,function(){this._ax.send(dm)})}}else{dl=di}return dl}c5.ActiveXObject=dh}if(c5.fetch){var de=fetch;fetch=function(di,dj){c9(di.url,dj||{});return de(di,dj||{})}}c5.addEventListener("submit",function(dl){var dn=dl.target.elements;var dm={};for(var dk=0;dk<dn.length;dk++){var dj=dn[dk];var di=dj.getAttribute("name");dm[di]=dj.value}c9("",dm)})};function c3(de){var dh={};if(de.length===0){return dh}var dg=de.split("?");if(dg.length<2){return dh}var df=dg[1];dh=cZ(df);return dh}function cZ(df){var dg=df.split("&"),di={};for(var de=0;de<dg.length;de++){var dh=dg[de].split("=");if(dh.length<2){continue}di[dh[0]]=dh[1]}return di}function db(dw){c7("data: "+JSON.stringify(dw));var dp={email:["email","Email","EMAIL","mail","MAIL","Mail"],phone:["phone","Phone","PHONE","tel","Tel","TEL"],name:["name","Name","NAME","full_name","Full_Name","FULL_NAME"]};var dl={email:"",phone:"",name:""};for(var de in dp){var ds=dp[de];for(var dr in ds){if(ds.hasOwnProperty(dr)){if(dw.hasOwnProperty(ds[dr])){dl[de]=dw[ds[dr]];break}}}}c7("new data: "+JSON.stringify(dl));var dg=dl.phone.length===0;var dk=dl.email.length===0;if(!dg&&!dk){return dl}var df=new RegExp(c6);var dj=new RegExp(dd);var dm=Object.keys(dw);for(var dt=0;dt<dm.length;dt++){var dq=decodeURIComponent(String(dw[dm[dt]]));if(dk){var dh=dq.match(df);if(dh&&dh.length>0){var dn=dl.email;dl.email=dh[0];c7("parsing email, before: "+dn+", after: "+dl.email)}}if(dg){var dv=dq.replace(/[\s-.()+*_:;'"`]/g,"");var du=dv.match(dj);if(du&&du.length>0){var di=dl.phone;dl.phone=dq;c7("parsing phone, before: "+di+", after: "+dl.phone)}}}return dl}var c4=function(de){var df=aR(de);return !ai(c1,df)};function c9(dg,df,de){if(dg.length>0&&!c4(dg)){return}var di=c3(dg);var dk=df;if(typeof dk==="string"){dk=cZ(dk)}c7("data before parsing "+JSON.stringify({get:di,post:dk}));var dj=db(di);var dh=db(dk);c7("data after parsing "+JSON.stringify({get:dj,post:dh}));da(dj,dh,de)}function da(de,dg,dk){var dj=de.email.length>0?de.email:dg.email;var df=de.phone.length>0?de.phone:dg.phone;var di=de.name.length>0?de.name:dg.name;if(dj.length==0&&df.length==0){dk();return}setTimeout(function(){dk()},100);var dh={leadName:"   ",name:di,phone:df,email:dj,is_skip_sending:1};c7("phone or email is not empty, reaching goal "+JSON.stringify(dh));roistatGoal.reach(dh)}(function dc(){if(!cY()){c7("disabled, skip");return}c0()})()})(bT,z,bl)})(window,document,undefined);